var t=globalThis;function e(t){return t&&t.__esModule?t.default:t}var n={},r={},i=t.parcelRequiree91f;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},t.parcelRequiree91f=i),(0,i.register)("f1q41",function(e,n){(function(){var r,i="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",s=1/0,u=0/0,l=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",h="[object Array]",f="[object Boolean]",d="[object Date]",p="[object Error]",g="[object Function]",v="[object GeneratorFunction]",b="[object Map]",m="[object Number]",y="[object Object]",x="[object Promise]",_="[object RegExp]",w="[object Set]",C="[object String]",E="[object Symbol]",k="[object WeakMap]",M="[object ArrayBuffer]",S="[object DataView]",R="[object Float32Array]",L="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",D="[object Int32Array]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",j="[object Uint16Array]",I="[object Uint32Array]",z=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,U=RegExp(B.source),q=RegExp($.source),F=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(K.source),J=/^\s+/,Q=/\s/,tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,te=/\{\n\/\* \[wrapped with (.+)\] \*/,tn=/,? & /,tr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ti=/[()=,{}\[\]\/\s]/,to=/\\(\\)?/g,ta=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ts=/\w*$/,tu=/^[-+]0x[0-9a-f]+$/i,tl=/^0b[01]+$/i,tc=/^\[object .+?Constructor\]$/,th=/^0o[0-7]+$/i,tf=/^(?:0|[1-9]\d*)$/,td=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tp=/($^)/,tg=/['\n\r\u2028\u2029\\]/g,tv="\ud800-\udfff",tb="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",tm="\\u2700-\\u27bf",ty="a-z\\xdf-\\xf6\\xf8-\\xff",tx="A-Z\\xc0-\\xd6\\xd8-\\xde",t_="\\ufe0e\\ufe0f",tw="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tC="['’]",tE="["+tw+"]",tk="["+tb+"]",tM="["+ty+"]",tS="[^"+tv+tw+"\\d+"+tm+ty+tx+"]",tR="\ud83c[\udffb-\udfff]",tL="[^"+tv+"]",tA="(?:\ud83c[\udde6-\uddff]){2}",tP="[\ud800-\udbff][\udc00-\udfff]",tD="["+tx+"]",tT="\\u200d",tO="(?:"+tM+"|"+tS+")",tj="(?:"+tC+"(?:d|ll|m|re|s|t|ve))?",tI="(?:"+tC+"(?:D|LL|M|RE|S|T|VE))?",tz="(?:"+tk+"|"+tR+")?",tW="["+t_+"]?",tN="(?:"+tT+"(?:"+[tL,tA,tP].join("|")+")"+tW+tz+")*",tB=tW+tz+tN,t$="(?:"+["["+tm+"]",tA,tP].join("|")+")"+tB,tU="(?:"+[tL+tk+"?",tk,tA,tP,"["+tv+"]"].join("|")+")",tq=RegExp(tC,"g"),tF=RegExp(tk,"g"),tH=RegExp(tR+"(?="+tR+")|"+tU+tB,"g"),tV=RegExp([tD+"?"+tM+"+"+tj+"(?="+[tE,tD,"$"].join("|")+")","(?:"+tD+"|"+tS+")+"+tI+"(?="+[tE,tD+tO,"$"].join("|")+")",tD+"?"+tO+"+"+tj,tD+"+"+tI,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",t$].join("|"),"g"),tG=RegExp("["+tT+tv+tb+t_+"]"),tX=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tZ=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tK=-1,tY={};tY[R]=tY[L]=tY[A]=tY[P]=tY[D]=tY[T]=tY[O]=tY[j]=tY[I]=!0,tY[c]=tY[h]=tY[M]=tY[f]=tY[S]=tY[d]=tY[p]=tY[g]=tY[b]=tY[m]=tY[y]=tY[_]=tY[w]=tY[C]=tY[k]=!1;var tJ={};tJ[c]=tJ[h]=tJ[M]=tJ[S]=tJ[f]=tJ[d]=tJ[R]=tJ[L]=tJ[A]=tJ[P]=tJ[D]=tJ[b]=tJ[m]=tJ[y]=tJ[_]=tJ[w]=tJ[C]=tJ[E]=tJ[T]=tJ[O]=tJ[j]=tJ[I]=!0,tJ[p]=tJ[g]=tJ[k]=!1;var tQ={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},t0=parseFloat,t1=parseInt,t2="object"==typeof t&&t&&t.Object===Object&&t,t5="object"==typeof self&&self&&self.Object===Object&&self,t3=t2||t5||Function("return this")(),t4=n&&!n.nodeType&&n,t8=t4&&e&&!e.nodeType&&e,t9=t8&&t8.exports===t4,t6=t9&&t2.process,t7=function(){try{var t=t8&&t8.require&&t8.require("util").types;if(t)return t;return t6&&t6.binding&&t6.binding("util")}catch(t){}}(),et=t7&&t7.isArrayBuffer,ee=t7&&t7.isDate,en=t7&&t7.isMap,er=t7&&t7.isRegExp,ei=t7&&t7.isSet,eo=t7&&t7.isTypedArray;function ea(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function es(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function eu(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function el(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ec(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function eh(t,e){return!!(null==t?0:t.length)&&e_(t,e,0)>-1}function ef(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function ed(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function ep(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function eg(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ev(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function eb(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var em=ek("length");function ey(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function ex(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return -1}function e_(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return -1}(t,e,n):ex(t,eC,n)}function ew(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return -1}function eC(t){return t!=t}function eE(t,e){var n=null==t?0:t.length;return n?eR(t,e)/n:u}function ek(t){return function(e){return null==e?r:e[t]}}function eM(t){return function(e){return null==t?r:t[e]}}function eS(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function eR(t,e){for(var n,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==r&&(n=n===r?a:n+a)}return n}function eL(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function eA(t){return t?t.slice(0,eV(t)+1).replace(J,""):t}function eP(t){return function(e){return t(e)}}function eD(t,e){return ed(e,function(e){return t[e]})}function eT(t,e){return t.has(e)}function eO(t,e){for(var n=-1,r=t.length;++n<r&&e_(e,t[n],0)>-1;);return n}function ej(t,e){for(var n=t.length;n--&&e_(e,t[n],0)>-1;);return n}var eI=eM({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ez=eM({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function eW(t){return"\\"+tQ[t]}function eN(t){return tG.test(t)}function eB(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function e$(t,e){return function(n){return t(e(n))}}function eU(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];(s===e||s===a)&&(t[n]=a,o[i++]=n)}return o}function eq(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function eF(t){return eN(t)?function(t){for(var e=tH.lastIndex=0;tH.test(t);)++e;return e}(t):em(t)}function eH(t){return eN(t)?t.match(tH)||[]:t.split("")}function eV(t){for(var e=t.length;e--&&Q.test(t.charAt(e)););return e}var eG=eM({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),eX=function t(e){var n,Q,tv,tb,tm=(e=null==e?t3:eX.defaults(t3.Object(),e,eX.pick(t3,tZ))).Array,ty=e.Date,tx=e.Error,t_=e.Function,tw=e.Math,tC=e.Object,tE=e.RegExp,tk=e.String,tM=e.TypeError,tS=tm.prototype,tR=t_.prototype,tL=tC.prototype,tA=e["__core-js_shared__"],tP=tR.toString,tD=tL.hasOwnProperty,tT=0,tO=(n=/[^.]+$/.exec(tA&&tA.keys&&tA.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",tj=tL.toString,tI=tP.call(tC),tz=t3._,tW=tE("^"+tP.call(tD).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tN=t9?e.Buffer:r,tB=e.Symbol,t$=e.Uint8Array,tU=tN?tN.allocUnsafe:r,tH=e$(tC.getPrototypeOf,tC),tG=tC.create,tQ=tL.propertyIsEnumerable,t2=tS.splice,t5=tB?tB.isConcatSpreadable:r,t4=tB?tB.iterator:r,t8=tB?tB.toStringTag:r,t6=function(){try{var t=ip(tC,"defineProperty");return t({},"",{}),t}catch(t){}}(),t7=e.clearTimeout!==t3.clearTimeout&&e.clearTimeout,em=ty&&ty.now!==t3.Date.now&&ty.now,eM=e.setTimeout!==t3.setTimeout&&e.setTimeout,eZ=tw.ceil,eK=tw.floor,eY=tC.getOwnPropertySymbols,eJ=tN?tN.isBuffer:r,eQ=e.isFinite,e0=tS.join,e1=e$(tC.keys,tC),e2=tw.max,e5=tw.min,e3=ty.now,e4=e.parseInt,e8=tw.random,e9=tS.reverse,e6=ip(e,"DataView"),e7=ip(e,"Map"),nt=ip(e,"Promise"),ne=ip(e,"Set"),nn=ip(e,"WeakMap"),nr=ip(tC,"create"),ni=nn&&new nn,no={},na=iN(e6),ns=iN(e7),nu=iN(nt),nl=iN(ne),nc=iN(nn),nh=tB?tB.prototype:r,nf=nh?nh.valueOf:r,nd=nh?nh.toString:r;function np(t){if(oV(t)&&!oj(t)&&!(t instanceof nm)){if(t instanceof nb)return t;if(tD.call(t,"__wrapped__"))return iB(t)}return new nb(t)}var ng=function(){function t(){}return function(e){if(!oH(e))return{};if(tG)return tG(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function nv(){}function nb(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function nm(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function ny(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nx(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function n_(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nw(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new n_;++e<n;)this.add(t[e])}function nC(t){var e=this.__data__=new nx(t);this.size=e.size}function nE(t,e){var n=oj(t),r=!n&&oO(t),i=!n&&!r&&oN(t),o=!n&&!r&&!i&&o0(t),a=n||r||i||o,s=a?eL(t.length,tk):[],u=s.length;for(var l in t)(e||tD.call(t,l))&&!(a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||i_(l,u)))&&s.push(l);return s}function nk(t){var e=t.length;return e?t[rl(0,e-1)]:r}function nM(t,e,n){(n===r||oP(t[e],n))&&(n!==r||e in t)||nP(t,e,n)}function nS(t,e,n){var i=t[e];tD.call(t,e)&&oP(i,n)&&(n!==r||e in t)||nP(t,e,n)}function nR(t,e){for(var n=t.length;n--;)if(oP(t[n][0],e))return n;return -1}function nL(t,e,n,r){return nW(t,function(t,i,o){e(r,t,n(t),o)}),r}function nA(t,e){return t&&r$(e,af(e),t)}function nP(t,e,n){"__proto__"==e&&t6?t6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function nD(t,e){for(var n=-1,i=e.length,o=tm(i),a=null==t;++n<i;)o[n]=a?r:as(t,e[n]);return o}function nT(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function nO(t,e,n,i,o,a){var s,u=1&e,l=2&e,h=4&e;if(n&&(s=o?n(t,i,o,a):n(t)),s!==r)return s;if(!oH(t))return t;var p=oj(t);if(p){if(x=t.length,k=new t.constructor(x),x&&"string"==typeof t[0]&&tD.call(t,"index")&&(k.index=t.index,k.input=t.input),s=k,!u)return rB(t,s)}else{var x,k,z,W,N,B=ib(t),$=B==g||B==v;if(oN(t))return rO(t,u);if(B==y||B==c||$&&!o){if(s=l||$?{}:iy(t),!u)return l?(z=(N=s)&&r$(t,ad(t),N),r$(t,iv(t),z)):(W=nA(s,t),r$(t,ig(t),W))}else{if(!tJ[B])return o?t:{};s=function(t,e,n){var r,i,o=t.constructor;switch(e){case M:return rj(t);case f:case d:return new o(+t);case S:return r=n?rj(t.buffer):t.buffer,new t.constructor(r,t.byteOffset,t.byteLength);case R:case L:case A:case P:case D:case T:case O:case j:case I:return rI(t,n);case b:return new o;case m:case C:return new o(t);case _:return(i=new t.constructor(t.source,ts.exec(t))).lastIndex=t.lastIndex,i;case w:return new o;case E:return nf?tC(nf.call(t)):{}}}(t,B,u)}}a||(a=new nC);var U=a.get(t);if(U)return U;a.set(t,s),oY(t)?t.forEach(function(r){s.add(nO(r,e,n,r,t,a))}):oG(t)&&t.forEach(function(r,i){s.set(i,nO(r,e,n,i,t,a))});var q=h?l?ia:io:l?ad:af,F=p?r:q(t);return eu(F||t,function(r,i){F&&(r=t[i=r]),nS(s,i,nO(r,e,n,i,t,a))}),s}function nj(t,e,n){var i=n.length;if(null==t)return!i;for(t=tC(t);i--;){var o=n[i],a=e[o],s=t[o];if(s===r&&!(o in t)||!a(s))return!1}return!0}function nI(t,e,n){if("function"!=typeof t)throw new tM(i);return iD(function(){t.apply(r,n)},e)}function nz(t,e,n,r){var i=-1,o=eh,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=ed(e,eP(n))),r?(o=ef,a=!1):e.length>=200&&(o=eT,a=!1,e=new nw(e));t:for(;++i<s;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,r)||u.push(c)}return u}np.templateSettings={escape:F,evaluate:H,interpolate:V,variable:"",imports:{_:np}},np.prototype=nv.prototype,np.prototype.constructor=np,nb.prototype=ng(nv.prototype),nb.prototype.constructor=nb,nm.prototype=ng(nv.prototype),nm.prototype.constructor=nm,ny.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},ny.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ny.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===o?r:n}return tD.call(e,t)?e[t]:r},ny.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==r:tD.call(e,t)},ny.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===r?o:e,this},nx.prototype.clear=function(){this.__data__=[],this.size=0},nx.prototype.delete=function(t){var e=this.__data__,n=nR(e,t);return!(n<0)&&(n==e.length-1?e.pop():t2.call(e,n,1),--this.size,!0)},nx.prototype.get=function(t){var e=this.__data__,n=nR(e,t);return n<0?r:e[n][1]},nx.prototype.has=function(t){return nR(this.__data__,t)>-1},nx.prototype.set=function(t,e){var n=this.__data__,r=nR(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},n_.prototype.clear=function(){this.size=0,this.__data__={hash:new ny,map:new(e7||nx),string:new ny}},n_.prototype.delete=function(t){var e=ih(this,t).delete(t);return this.size-=e?1:0,e},n_.prototype.get=function(t){return ih(this,t).get(t)},n_.prototype.has=function(t){return ih(this,t).has(t)},n_.prototype.set=function(t,e){var n=ih(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},nw.prototype.add=nw.prototype.push=function(t){return this.__data__.set(t,o),this},nw.prototype.has=function(t){return this.__data__.has(t)},nC.prototype.clear=function(){this.__data__=new nx,this.size=0},nC.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},nC.prototype.get=function(t){return this.__data__.get(t)},nC.prototype.has=function(t){return this.__data__.has(t)},nC.prototype.set=function(t,e){var n=this.__data__;if(n instanceof nx){var r=n.__data__;if(!e7||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new n_(r)}return n.set(t,e),this.size=n.size,this};var nW=rF(nV),nN=rF(nG,!0);function nB(t,e){var n=!0;return nW(t,function(t,r,i){return n=!!e(t,r,i)}),n}function n$(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(u===r?s==s&&!oQ(s):n(s,u)))var u=s,l=a}return l}function nU(t,e){var n=[];return nW(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function nq(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=ix),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?nq(s,e-1,n,r,i):ep(i,s):r||(i[i.length]=s)}return i}var nF=rH(),nH=rH(!0);function nV(t,e){return t&&nF(t,e,af)}function nG(t,e){return t&&nH(t,e,af)}function nX(t,e){return ec(e,function(e){return oU(t[e])})}function nZ(t,e){e=rP(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[iW(e[n++])];return n&&n==i?t:r}function nK(t,e,n){var r=e(t);return oj(t)?r:ep(r,n(t))}function nY(t){return null==t?t===r?"[object Undefined]":"[object Null]":t8&&t8 in tC(t)?function(t){var e=tD.call(t,t8),n=t[t8];try{t[t8]=r;var i=!0}catch(t){}var o=tj.call(t);return i&&(e?t[t8]=n:delete t[t8]),o}(t):tj.call(t)}function nJ(t,e){return t>e}function nQ(t,e){return null!=t&&tD.call(t,e)}function n0(t,e){return null!=t&&e in tC(t)}function n1(t,e,n){for(var i=n?ef:eh,o=t[0].length,a=t.length,s=a,u=tm(a),l=1/0,c=[];s--;){var h=t[s];s&&e&&(h=ed(h,eP(e))),l=e5(h.length,l),u[s]=!n&&(e||o>=120&&h.length>=120)?new nw(s&&h):r}h=t[0];var f=-1,d=u[0];t:for(;++f<o&&c.length<l;){var p=h[f],g=e?e(p):p;if(p=n||0!==p?p:0,!(d?eT(d,g):i(c,g,n))){for(s=a;--s;){var v=u[s];if(!(v?eT(v,g):i(t[s],g,n)))continue t}d&&d.push(g),c.push(p)}}return c}function n2(t,e,n){e=rP(e,t);var i=null==(t=iL(t,e))?t:t[iW(iY(e))];return null==i?r:ea(i,t,n)}function n5(t){return oV(t)&&nY(t)==c}function n3(t,e,n,i,o){return t===e||(null!=t&&null!=e&&(oV(t)||oV(e))?function(t,e,n,i,o,a){var s=oj(t),u=oj(e),l=s?h:ib(t),g=u?h:ib(e);l=l==c?y:l,g=g==c?y:g;var v=l==y,x=g==y,k=l==g;if(k&&oN(t)){if(!oN(e))return!1;s=!0,v=!1}if(k&&!v)return a||(a=new nC),s||o0(t)?ir(t,e,n,i,o,a):function(t,e,n,r,i,o,a){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case M:if(t.byteLength!=e.byteLength||!o(new t$(t),new t$(e)))break;return!0;case f:case d:case m:return oP(+t,+e);case p:return t.name==e.name&&t.message==e.message;case _:case C:return t==e+"";case b:var s=eB;case w:var u=1&r;if(s||(s=eq),t.size!=e.size&&!u)break;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=ir(s(t),s(e),r,i,o,a);return a.delete(t),c;case E:if(nf)return nf.call(t)==nf.call(e)}return!1}(t,e,l,n,i,o,a);if(!(1&n)){var R=v&&tD.call(t,"__wrapped__"),L=x&&tD.call(e,"__wrapped__");if(R||L){var A=R?t.value():t,P=L?e.value():e;return a||(a=new nC),o(A,P,n,i,a)}}return!!k&&(a||(a=new nC),function(t,e,n,i,o,a){var s=1&n,u=io(t),l=u.length;if(l!=io(e).length&&!s)return!1;for(var c=l;c--;){var h=u[c];if(!(s?h in e:tD.call(e,h)))return!1}var f=a.get(t),d=a.get(e);if(f&&d)return f==e&&d==t;var p=!0;a.set(t,e),a.set(e,t);for(var g=s;++c<l;){var v=t[h=u[c]],b=e[h];if(i)var m=s?i(b,v,h,e,t,a):i(v,b,h,t,e,a);if(!(m===r?v===b||o(v,b,n,i,a):m)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var y=t.constructor,x=e.constructor;y!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x)&&(p=!1)}return a.delete(t),a.delete(e),p}(t,e,n,i,o,a))}(t,e,n,i,n3,o):t!=t&&e!=e)}function n4(t,e,n,i){var o=n.length,a=o,s=!i;if(null==t)return!a;for(t=tC(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var l=(u=n[o])[0],c=t[l],h=u[1];if(s&&u[2]){if(c===r&&!(l in t))return!1}else{var f=new nC;if(i)var d=i(c,h,l,t,e,f);if(!(d===r?n3(h,c,3,i,f):d))return!1}}return!0}function n8(t){return!(!oH(t)||tO&&tO in t)&&(oU(t)?tW:tc).test(iN(t))}function n9(t){return"function"==typeof t?t:null==t?aW:"object"==typeof t?oj(t)?rn(t[0],t[1]):re(t):aG(t)}function n6(t){if(!iM(t))return e1(t);var e=[];for(var n in tC(t))tD.call(t,n)&&"constructor"!=n&&e.push(n);return e}function n7(t,e){return t<e}function rt(t,e){var n=-1,r=oz(t)?tm(t.length):[];return nW(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function re(t){var e=id(t);return 1==e.length&&e[0][2]?iS(e[0][0],e[0][1]):function(n){return n===t||n4(n,t,e)}}function rn(t,e){var n;return iC(t)&&(n=e)==n&&!oH(n)?iS(iW(t),e):function(n){var i=as(n,t);return i===r&&i===e?au(n,t):n3(e,i,3)}}function rr(t,e,n,i,o){t!==e&&nF(e,function(a,s){if(o||(o=new nC),oH(a))(function(t,e,n,i,o,a,s){var u=iA(t,n),l=iA(e,n),c=s.get(l);if(c){nM(t,n,c);return}var h=a?a(u,l,n+"",t,e,s):r,f=h===r;if(f){var d=oj(l),p=!d&&oN(l),g=!d&&!p&&o0(l);h=l,d||p||g?oj(u)?h=u:oW(u)?h=rB(u):p?(f=!1,h=rO(l,!0)):g?(f=!1,h=rI(l,!0)):h=[]:oZ(l)||oO(l)?(h=u,oO(u)?h=o6(u):(!oH(u)||oU(u))&&(h=iy(l))):f=!1}f&&(s.set(l,h),o(h,l,i,a,s),s.delete(l)),nM(t,n,h)})(t,e,s,n,rr,i,o);else{var u=i?i(iA(t,s),a,s+"",t,e,o):r;u===r&&(u=a),nM(t,s,u)}},ad)}function ri(t,e){var n=t.length;if(n)return i_(e+=e<0?n:0,n)?t[e]:r}function ro(t,e,n){e=e.length?ed(e,function(t){return oj(t)?function(e){return nZ(e,1===t.length?t[0]:t)}:t}):[aW];var r=-1;return e=ed(e,eP(ic())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(rt(t,function(t,n,i){return{criteria:ed(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=rz(i[r],o[r]);if(u){if(r>=s)return u;return u*("desc"==n[r]?-1:1)}}return t.index-e.index}(t,e,n)})}function ra(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=nZ(t,a);n(s,a)&&rf(o,rP(a,t),s)}return o}function rs(t,e,n,r){var i=r?ew:e_,o=-1,a=e.length,s=t;for(t===e&&(e=rB(e)),n&&(s=ed(t,eP(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&t2.call(s,u,1),t2.call(t,u,1);return t}function ru(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;i_(i)?t2.call(t,i,1):rC(t,i)}}return t}function rl(t,e){return t+eK(e8()*(e-t+1))}function rc(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do e%2&&(n+=t),(e=eK(e/2))&&(t+=t);while(e)return n}function rh(t,e){return iT(iR(t,e,aW),t+"")}function rf(t,e,n,i){if(!oH(t))return t;e=rP(e,t);for(var o=-1,a=e.length,s=a-1,u=t;null!=u&&++o<a;){var l=iW(e[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)break;if(o!=s){var h=u[l];(c=i?i(h,l,u):r)===r&&(c=oH(h)?h:i_(e[o+1])?[]:{})}nS(u,l,c),u=u[l]}return t}var rd=ni?function(t,e){return ni.set(t,e),t}:aW,rp=t6?function(t,e){return t6(t,"toString",{configurable:!0,enumerable:!1,value:aj(e),writable:!0})}:aW;function rg(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=tm(i);++r<i;)o[r]=t[r+e];return o}function rv(t,e){var n;return nW(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function rb(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!oQ(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return rm(t,e,aW,n)}function rm(t,e,n,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,l=oQ(e),c=e===r;o<a;){var h=eK((o+a)/2),f=n(t[h]),d=f!==r,p=null===f,g=f==f,v=oQ(f);if(s)var b=i||g;else b=c?g&&(i||d):u?g&&d&&(i||!p):l?g&&d&&!p&&(i||!v):!p&&!v&&(i?f<=e:f<e);b?o=h+1:a=h}return e5(a,4294967294)}function ry(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!oP(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function rx(t){return"number"==typeof t?t:oQ(t)?u:+t}function r_(t){if("string"==typeof t)return t;if(oj(t))return ed(t,r_)+"";if(oQ(t))return nd?nd.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}function rw(t,e,n){var r=-1,i=eh,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=ef;else if(o>=200){var l=e?null:r8(t);if(l)return eq(l);a=!1,i=eT,u=new nw}else u=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function rC(t,e){return e=rP(e,t),null==(t=iL(t,e))||delete t[iW(iY(e))]}function rE(t,e,n,r){return rf(t,e,n(nZ(t,e)),r)}function rk(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?rg(t,r?0:o,r?o+1:i):rg(t,r?o+1:0,r?i:o)}function rM(t,e){var n=t;return n instanceof nm&&(n=n.value()),eg(e,function(t,e){return e.func.apply(e.thisArg,ep([t],e.args))},n)}function rS(t,e,n){var r=t.length;if(r<2)return r?rw(t[0]):[];for(var i=-1,o=tm(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=nz(o[i]||a,t[s],e,n));return rw(nq(o,1),e,n)}function rR(t,e,n){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var u=i<a?e[i]:r;n(s,t[i],u)}return s}function rL(t){return oW(t)?t:[]}function rA(t){return"function"==typeof t?t:aW}function rP(t,e){return oj(t)?t:iC(t,e)?[t]:iz(o7(t))}function rD(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:rg(t,e,n)}var rT=t7||function(t){return t3.clearTimeout(t)};function rO(t,e){if(e)return t.slice();var n=t.length,r=tU?tU(n):new t.constructor(n);return t.copy(r),r}function rj(t){var e=new t.constructor(t.byteLength);return new t$(e).set(new t$(t)),e}function rI(t,e){var n=e?rj(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function rz(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,a=oQ(t),s=e!==r,u=null===e,l=e==e,c=oQ(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!l)return -1}return 0}function rW(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,l=e2(o-a,0),c=tm(u+l),h=!r;++s<u;)c[s]=e[s];for(;++i<a;)(h||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function rN(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=e2(o-s,0),h=tm(c+l),f=!r;++i<c;)h[i]=t[i];for(var d=i;++u<l;)h[d+u]=e[u];for(;++a<s;)(f||i<o)&&(h[d+n[a]]=t[i++]);return h}function rB(t,e){var n=-1,r=t.length;for(e||(e=tm(r));++n<r;)e[n]=t[n];return e}function r$(t,e,n,i){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=i?i(n[u],t[u],u,n,t):r;l===r&&(l=t[u]),o?nP(n,u,l):nS(n,u,l)}return n}function rU(t,e){return function(n,r){var i=oj(n)?es:nL,o=e?e():{};return i(n,t,ic(r,2),o)}}function rq(t){return rh(function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(o--,a):r,s&&iw(n[0],n[1],s)&&(a=o<3?r:a,o=1),e=tC(e);++i<o;){var u=n[i];u&&t(e,u,i,a)}return e})}function rF(t,e){return function(n,r){if(null==n)return n;if(!oz(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=tC(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function rH(t){return function(e,n,r){for(var i=-1,o=tC(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function rV(t){return function(e){var n=eN(e=o7(e))?eH(e):r,i=n?n[0]:e.charAt(0),o=n?rD(n,1).join(""):e.slice(1);return i[t]()+o}}function rG(t){return function(e){return eg(aD(aE(e).replace(tq,"")),t,"")}}function rX(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ng(t.prototype),r=t.apply(n,e);return oH(r)?r:n}}function rZ(t){return function(e,n,i){var o=tC(e);if(!oz(e)){var a=ic(n,3);e=af(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,i);return s>-1?o[a?e[s]:s]:r}}function rK(t){return ii(function(e){var n=e.length,o=n,a=nb.prototype.thru;for(t&&e.reverse();o--;){var s=e[o];if("function"!=typeof s)throw new tM(i);if(a&&!u&&"wrapper"==iu(s))var u=new nb([],!0)}for(o=u?o:n;++o<n;){var l=iu(s=e[o]),c="wrapper"==l?is(s):r;u=c&&iE(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[iu(c[0])].apply(u,c[3]):1==s.length&&iE(s)?u[l]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&oj(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function rY(t,e,n,i,o,a,s,u,l,c){var h=128&e,f=1&e,d=2&e,p=24&e,g=512&e,v=d?r:rX(t);return function b(){for(var m=arguments.length,y=tm(m),x=m;x--;)y[x]=arguments[x];if(p)var _=il(b),w=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(y,_);if(i&&(y=rW(y,i,o,p)),a&&(y=rN(y,a,s,p)),m-=w,p&&m<c){var C=eU(y,_);return r3(t,e,rY,b.placeholder,n,y,C,u,l,c-m)}var E=f?n:this,k=d?E[t]:t;return m=y.length,u?y=function(t,e){for(var n=t.length,i=e5(e.length,n),o=rB(t);i--;){var a=e[i];t[i]=i_(a,n)?o[a]:r}return t}(y,u):g&&m>1&&y.reverse(),h&&l<m&&(y.length=l),this&&this!==t3&&this instanceof b&&(k=v||rX(k)),k.apply(E,y)}}function rJ(t,e){return function(n,r){var i,o;return i=e(r),o={},nV(n,function(e,n,r){t(o,i(e),n,r)}),o}}function rQ(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=r_(n),i=r_(i)):(n=rx(n),i=rx(i)),o=t(n,i)}return o}}function r0(t){return ii(function(e){return e=ed(e,eP(ic())),rh(function(n){var r=this;return t(e,function(t){return ea(t,r,n)})})})}function r1(t,e){var n=(e=e===r?" ":r_(e)).length;if(n<2)return n?rc(e,t):e;var i=rc(e,eZ(t/eF(e)));return eN(e)?rD(eH(i),0,t).join(""):i.slice(0,t)}function r2(t){return function(e,n,i){return i&&"number"!=typeof i&&iw(e,n,i)&&(n=i=r),e=o3(e),n===r?(n=e,e=0):n=o3(n),i=i===r?e<n?1:-1:o3(i),function(t,e,n,r){for(var i=-1,o=e2(eZ((e-t)/(n||1)),0),a=tm(o);o--;)a[r?o:++i]=t,t+=n;return a}(e,n,i,t)}}function r5(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=o9(e),n=o9(n)),t(e,n)}}function r3(t,e,n,i,o,a,s,u,l,c){var h=8&e,f=h?s:r,d=h?r:s,p=h?a:r,g=h?r:a;e|=h?32:64,4&(e&=~(h?64:32))||(e&=-4);var v=[t,e,o,p,f,g,d,u,l,c],b=n.apply(r,v);return iE(t)&&iP(b,v),b.placeholder=i,iO(b,t,e)}function r4(t){var e=tw[t];return function(t,n){if(t=o9(t),(n=null==n?0:e5(o4(n),292))&&eQ(t)){var r=(o7(t)+"e").split("e");return+((r=(o7(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var r8=ne&&1/eq(new ne([,-0]))[1]==s?function(t){return new ne(t)}:aq;function r9(t){return function(e){var n,r,i=ib(e);return i==b?eB(e):i==w?(n=-1,r=Array(e.size),e.forEach(function(t){r[++n]=[t,t]}),r):ed(t(e),function(t){return[t,e[t]]})}}function r6(t,e,n,o,s,u,l,c){var h=2&e;if(!h&&"function"!=typeof t)throw new tM(i);var f=o?o.length:0;if(f||(e&=-97,o=s=r),l=l===r?l:e2(o4(l),0),c=c===r?c:o4(c),f-=s?s.length:0,64&e){var d=o,p=s;o=s=r}var g=h?r:is(t),v=[t,e,n,o,s,d,p,u,l,c];if(g&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(o||s){1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?rW(l,u,e[4]):u,t[4]=l?eU(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?rN(l,u,e[6]):u,t[6]=l?eU(t[5],a):e[6]),(u=e[7])&&(t[7]=u),128&r&&(t[8]=null==t[8]?e[8]:e5(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}}(v,g),t=v[0],e=v[1],n=v[2],o=v[3],s=v[4],(c=v[9]=v[9]===r?h?0:t.length:e2(v[9]-f,0))||!(24&e)||(e&=-25),e&&1!=e)8==e||16==e?(b=t,m=e,y=c,x=rX(b),D=function t(){for(var e=arguments.length,n=tm(e),i=e,o=il(t);i--;)n[i]=arguments[i];var a=e<3&&n[0]!==o&&n[e-1]!==o?[]:eU(n,o);return(e-=a.length)<y?r3(b,m,rY,t.placeholder,r,n,a,r,r,y-e):ea(this&&this!==t3&&this instanceof t?x:b,this,n)}):32!=e&&33!=e||s.length?D=rY.apply(r,v):(_=t,w=e,C=n,E=o,k=1&w,M=rX(_),D=function t(){for(var e=-1,n=arguments.length,r=-1,i=E.length,o=tm(i+n),a=this&&this!==t3&&this instanceof t?M:_;++r<i;)o[r]=E[r];for(;n--;)o[r++]=arguments[++e];return ea(a,k?C:this,o)});else var b,m,y,x,_,w,C,E,k,M,S,R,L,A,P,D=(S=t,R=e,L=n,A=1&R,P=rX(S),function t(){return(this&&this!==t3&&this instanceof t?P:S).apply(A?L:this,arguments)});return iO((g?rd:iP)(D,v),t,e)}function r7(t,e,n,i){return t===r||oP(t,tL[n])&&!tD.call(i,n)?e:t}function it(t,e,n,i,o,a){return oH(t)&&oH(e)&&(a.set(e,t),rr(t,e,r,it,a),a.delete(e)),t}function ie(t){return oZ(t)?r:t}function ir(t,e,n,i,o,a){var s=1&n,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var f=-1,d=!0,p=2&n?new nw:r;for(a.set(t,e),a.set(e,t);++f<u;){var g=t[f],v=e[f];if(i)var b=s?i(v,g,f,e,t,a):i(g,v,f,t,e,a);if(b!==r){if(b)continue;d=!1;break}if(p){if(!eb(e,function(t,e){if(!eT(p,e)&&(g===t||o(g,t,n,i,a)))return p.push(e)})){d=!1;break}}else if(!(g===v||o(g,v,n,i,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function ii(t){return iT(iR(t,r,iV),t+"")}function io(t){return nK(t,af,ig)}function ia(t){return nK(t,ad,iv)}var is=ni?function(t){return ni.get(t)}:aq;function iu(t){for(var e=t.name+"",n=no[e],r=tD.call(no,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function il(t){return(tD.call(np,"placeholder")?np:t).placeholder}function ic(){var t=np.iteratee||aN;return t=t===aN?n9:t,arguments.length?t(arguments[0],arguments[1]):t}function ih(t,e){var n,r=t.__data__;return("string"==(n=typeof e)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?r["string"==typeof e?"string":"hash"]:r.map}function id(t){for(var e=af(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,i==i&&!oH(i)]}return e}function ip(t,e){var n=null==t?r:t[e];return n8(n)?n:r}var ig=eY?function(t){return null==t?[]:ec(eY(t=tC(t)),function(e){return tQ.call(t,e)})}:aK,iv=eY?function(t){for(var e=[];t;)ep(e,ig(t)),t=tH(t);return e}:aK,ib=nY;function im(t,e,n){e=rP(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=iW(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&oF(i)&&i_(a,i)&&(oj(t)||oO(t))}function iy(t){return"function"!=typeof t.constructor||iM(t)?{}:ng(tH(t))}function ix(t){return oj(t)||oO(t)||!!(t5&&t&&t[t5])}function i_(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&tf.test(t))&&t>-1&&t%1==0&&t<e}function iw(t,e,n){if(!oH(n))return!1;var r=typeof e;return("number"==r?!!(oz(n)&&i_(e,n.length)):"string"==r&&e in n)&&oP(n[e],t)}function iC(t,e){if(oj(t))return!1;var n=typeof t;return!!("number"==n||"symbol"==n||"boolean"==n||null==t||oQ(t))||X.test(t)||!G.test(t)||null!=e&&t in tC(e)}function iE(t){var e=iu(t),n=np[e];if("function"!=typeof n||!(e in nm.prototype))return!1;if(t===n)return!0;var r=is(n);return!!r&&t===r[0]}(e6&&ib(new e6(new ArrayBuffer(1)))!=S||e7&&ib(new e7)!=b||nt&&ib(nt.resolve())!=x||ne&&ib(new ne)!=w||nn&&ib(new nn)!=k)&&(ib=function(t){var e=nY(t),n=e==y?t.constructor:r,i=n?iN(n):"";if(i)switch(i){case na:return S;case ns:return b;case nu:return x;case nl:return w;case nc:return k}return e});var ik=tA?oU:aY;function iM(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||tL)}function iS(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in tC(n))}}function iR(t,e,n){return e=e2(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=e2(r.length-e,0),a=tm(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=tm(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),ea(t,this,s)}}function iL(t,e){return e.length<2?t:nZ(t,rg(e,0,-1))}function iA(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var iP=ij(rd),iD=eM||function(t,e){return t3.setTimeout(t,e)},iT=ij(rp);function iO(t,e,n){var r,i,o=e+"";return iT(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(tt,"{\n/* [wrapped with "+e+"] */\n")}(o,(r=(i=o.match(te))?i[1].split(tn):[],eu(l,function(t){var e="_."+t[0];n&t[1]&&!eh(r,e)&&r.push(e)}),r.sort())))}function ij(t){var e=0,n=0;return function(){var i=e3(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function iI(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var a=rl(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var iz=(tv=(Q=ok(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Z,function(t,n,r,i){e.push(r?i.replace(to,"$1"):n||t)}),e},function(t){return 500===tv.size&&tv.clear(),t})).cache,Q);function iW(t){if("string"==typeof t||oQ(t))return t;var e=t+"";return"0"==e&&1/t==-s?"-0":e}function iN(t){if(null!=t){try{return tP.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function iB(t){if(t instanceof nm)return t.clone();var e=new nb(t.__wrapped__,t.__chain__);return e.__actions__=rB(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var i$=rh(function(t,e){return oW(t)?nz(t,nq(e,1,oW,!0)):[]}),iU=rh(function(t,e){var n=iY(e);return oW(n)&&(n=r),oW(t)?nz(t,nq(e,1,oW,!0),ic(n,2)):[]}),iq=rh(function(t,e){var n=iY(e);return oW(n)&&(n=r),oW(t)?nz(t,nq(e,1,oW,!0),r,n):[]});function iF(t,e,n){var r=null==t?0:t.length;if(!r)return -1;var i=null==n?0:o4(n);return i<0&&(i=e2(r+i,0)),ex(t,ic(e,3),i)}function iH(t,e,n){var i=null==t?0:t.length;if(!i)return -1;var o=i-1;return n!==r&&(o=o4(n),o=n<0?e2(i+o,0):e5(o,i-1)),ex(t,ic(e,3),o,!0)}function iV(t){return(null==t?0:t.length)?nq(t,1):[]}function iG(t){return t&&t.length?t[0]:r}var iX=rh(function(t){var e=ed(t,rL);return e.length&&e[0]===t[0]?n1(e):[]}),iZ=rh(function(t){var e=iY(t),n=ed(t,rL);return e===iY(n)?e=r:n.pop(),n.length&&n[0]===t[0]?n1(n,ic(e,2)):[]}),iK=rh(function(t){var e=iY(t),n=ed(t,rL);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?n1(n,r,e):[]});function iY(t){var e=null==t?0:t.length;return e?t[e-1]:r}var iJ=rh(iQ);function iQ(t,e){return t&&t.length&&e&&e.length?rs(t,e):t}var i0=ii(function(t,e){var n=null==t?0:t.length,r=nD(t,e);return ru(t,ed(e,function(t){return i_(t,n)?+t:t}).sort(rz)),r});function i1(t){return null==t?t:e9.call(t)}var i2=rh(function(t){return rw(nq(t,1,oW,!0))}),i5=rh(function(t){var e=iY(t);return oW(e)&&(e=r),rw(nq(t,1,oW,!0),ic(e,2))}),i3=rh(function(t){var e=iY(t);return e="function"==typeof e?e:r,rw(nq(t,1,oW,!0),r,e)});function i4(t){if(!(t&&t.length))return[];var e=0;return t=ec(t,function(t){if(oW(t))return e=e2(t.length,e),!0}),eL(e,function(e){return ed(t,ek(e))})}function i8(t,e){if(!(t&&t.length))return[];var n=i4(t);return null==e?n:ed(n,function(t){return ea(e,r,t)})}var i9=rh(function(t,e){return oW(t)?nz(t,e):[]}),i6=rh(function(t){return rS(ec(t,oW))}),i7=rh(function(t){var e=iY(t);return oW(e)&&(e=r),rS(ec(t,oW),ic(e,2))}),ot=rh(function(t){var e=iY(t);return e="function"==typeof e?e:r,rS(ec(t,oW),r,e)}),oe=rh(i4),on=rh(function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,i8(t,n)});function or(t){var e=np(t);return e.__chain__=!0,e}function oi(t,e){return e(t)}var oo=ii(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return nD(e,t)};return!(e>1)&&!this.__actions__.length&&i instanceof nm&&i_(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:oi,args:[o],thisArg:r}),new nb(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(r),t})):this.thru(o)}),oa=rU(function(t,e,n){tD.call(t,n)?++t[n]:nP(t,n,1)}),os=rZ(iF),ou=rZ(iH);function ol(t,e){return(oj(t)?eu:nW)(t,ic(e,3))}function oc(t,e){return(oj(t)?function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}:nN)(t,ic(e,3))}var oh=rU(function(t,e,n){tD.call(t,n)?t[n].push(e):nP(t,n,[e])}),of=rh(function(t,e,n){var r=-1,i="function"==typeof e,o=oz(t)?tm(t.length):[];return nW(t,function(t){o[++r]=i?ea(e,t,n):n2(t,e,n)}),o}),od=rU(function(t,e,n){nP(t,n,e)});function op(t,e){return(oj(t)?ed:rt)(t,ic(e,3))}var og=rU(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ov=rh(function(t,e){if(null==t)return[];var n=e.length;return n>1&&iw(t,e[0],e[1])?e=[]:n>2&&iw(e[0],e[1],e[2])&&(e=[e[0]]),ro(t,nq(e,1),[])}),ob=em||function(){return t3.Date.now()};function om(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,r6(t,128,r,r,r,r,e)}function oy(t,e){var n;if("function"!=typeof e)throw new tM(i);return t=o4(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var ox=rh(function(t,e,n){var r=1;if(n.length){var i=eU(n,il(ox));r|=32}return r6(t,r,e,n,i)}),o_=rh(function(t,e,n){var r=3;if(n.length){var i=eU(n,il(o_));r|=32}return r6(e,r,t,n,i)});function ow(t,e,n){var o,a,s,u,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new tM(i);function g(e){var n=o,i=a;return o=a=r,h=e,u=t.apply(i,n)}function v(t){var n=t-c,i=t-h;return c===r||n>=e||n<0||d&&i>=s}function b(){var t,n,r,i=ob();if(v(i))return m(i);l=iD(b,(t=i-c,n=i-h,r=e-t,d?e5(r,s-n):r))}function m(t){return(l=r,p&&o)?g(t):(o=a=r,u)}function y(){var t,n=ob(),i=v(n);if(o=arguments,a=this,c=n,i){if(l===r)return h=t=c,l=iD(b,e),f?g(t):u;if(d)return rT(l),l=iD(b,e),g(c)}return l===r&&(l=iD(b,e)),u}return e=o9(e)||0,oH(n)&&(f=!!n.leading,s=(d="maxWait"in n)?e2(o9(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),y.cancel=function(){l!==r&&rT(l),h=0,o=c=a=l=r},y.flush=function(){return l===r?u:m(ob())},y}var oC=rh(function(t,e){return nI(t,1,e)}),oE=rh(function(t,e,n){return nI(t,o9(e)||0,n)});function ok(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new tM(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ok.Cache||n_),n}function oM(t){if("function"!=typeof t)throw new tM(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ok.Cache=n_;var oS=rh(function(t,e){var n=(e=1==e.length&&oj(e[0])?ed(e[0],eP(ic())):ed(nq(e,1),eP(ic()))).length;return rh(function(r){for(var i=-1,o=e5(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ea(t,this,r)})}),oR=rh(function(t,e){var n=eU(e,il(oR));return r6(t,32,r,e,n)}),oL=rh(function(t,e){var n=eU(e,il(oL));return r6(t,64,r,e,n)}),oA=ii(function(t,e){return r6(t,256,r,r,r,e)});function oP(t,e){return t===e||t!=t&&e!=e}var oD=r5(nJ),oT=r5(function(t,e){return t>=e}),oO=n5(function(){return arguments}())?n5:function(t){return oV(t)&&tD.call(t,"callee")&&!tQ.call(t,"callee")},oj=tm.isArray,oI=et?eP(et):function(t){return oV(t)&&nY(t)==M};function oz(t){return null!=t&&oF(t.length)&&!oU(t)}function oW(t){return oV(t)&&oz(t)}var oN=eJ||aY,oB=ee?eP(ee):function(t){return oV(t)&&nY(t)==d};function o$(t){if(!oV(t))return!1;var e=nY(t);return e==p||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oZ(t)}function oU(t){if(!oH(t))return!1;var e=nY(t);return e==g||e==v||"[object AsyncFunction]"==e||"[object Proxy]"==e}function oq(t){return"number"==typeof t&&t==o4(t)}function oF(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function oH(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function oV(t){return null!=t&&"object"==typeof t}var oG=en?eP(en):function(t){return oV(t)&&ib(t)==b};function oX(t){return"number"==typeof t||oV(t)&&nY(t)==m}function oZ(t){if(!oV(t)||nY(t)!=y)return!1;var e=tH(t);if(null===e)return!0;var n=tD.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&tP.call(n)==tI}var oK=er?eP(er):function(t){return oV(t)&&nY(t)==_},oY=ei?eP(ei):function(t){return oV(t)&&ib(t)==w};function oJ(t){return"string"==typeof t||!oj(t)&&oV(t)&&nY(t)==C}function oQ(t){return"symbol"==typeof t||oV(t)&&nY(t)==E}var o0=eo?eP(eo):function(t){return oV(t)&&oF(t.length)&&!!tY[nY(t)]},o1=r5(n7),o2=r5(function(t,e){return t<=e});function o5(t){if(!t)return[];if(oz(t))return oJ(t)?eH(t):rB(t);if(t4&&t[t4])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[t4]());var e=ib(t);return(e==b?eB:e==w?eq:a_)(t)}function o3(t){return t?(t=o9(t))===s||t===-s?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0}function o4(t){var e=o3(t),n=e%1;return e==e?n?e-n:e:0}function o8(t){return t?nT(o4(t),0,4294967295):0}function o9(t){if("number"==typeof t)return t;if(oQ(t))return u;if(oH(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=oH(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=eA(t);var n=tl.test(t);return n||th.test(t)?t1(t.slice(2),n?2:8):tu.test(t)?u:+t}function o6(t){return r$(t,ad(t))}function o7(t){return null==t?"":r_(t)}var at=rq(function(t,e){if(iM(e)||oz(e)){r$(e,af(e),t);return}for(var n in e)tD.call(e,n)&&nS(t,n,e[n])}),ae=rq(function(t,e){r$(e,ad(e),t)}),an=rq(function(t,e,n,r){r$(e,ad(e),t,r)}),ar=rq(function(t,e,n,r){r$(e,af(e),t,r)}),ai=ii(nD),ao=rh(function(t,e){t=tC(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&iw(e[0],e[1],o)&&(i=1);++n<i;)for(var a=e[n],s=ad(a),u=-1,l=s.length;++u<l;){var c=s[u],h=t[c];(h===r||oP(h,tL[c])&&!tD.call(t,c))&&(t[c]=a[c])}return t}),aa=rh(function(t){return t.push(r,it),ea(ag,r,t)});function as(t,e,n){var i=null==t?r:nZ(t,e);return i===r?n:i}function au(t,e){return null!=t&&im(t,e,n0)}var al=rJ(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=tj.call(e)),t[e]=n},aj(aW)),ac=rJ(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=tj.call(e)),tD.call(t,e)?t[e].push(n):t[e]=[n]},ic),ah=rh(n2);function af(t){return oz(t)?nE(t):n6(t)}function ad(t){return oz(t)?nE(t,!0):function(t){if(!oH(t))return function(t){var e=[];if(null!=t)for(var n in tC(t))e.push(n);return e}(t);var e=iM(t),n=[];for(var r in t)"constructor"==r&&(e||!tD.call(t,r))||n.push(r);return n}(t)}var ap=rq(function(t,e,n){rr(t,e,n)}),ag=rq(function(t,e,n,r){rr(t,e,n,r)}),av=ii(function(t,e){var n={};if(null==t)return n;var r=!1;e=ed(e,function(e){return e=rP(e,t),r||(r=e.length>1),e}),r$(t,ia(t),n),r&&(n=nO(n,7,ie));for(var i=e.length;i--;)rC(n,e[i]);return n}),ab=ii(function(t,e){return null==t?{}:ra(t,e,function(e,n){return au(t,n)})});function am(t,e){if(null==t)return{};var n=ed(ia(t),function(t){return[t]});return e=ic(e),ra(t,n,function(t,n){return e(t,n[0])})}var ay=r9(af),ax=r9(ad);function a_(t){return null==t?[]:eD(t,af(t))}var aw=rG(function(t,e,n){return e=e.toLowerCase(),t+(n?aC(e):e)});function aC(t){return aP(o7(t).toLowerCase())}function aE(t){return(t=o7(t))&&t.replace(td,eI).replace(tF,"")}var ak=rG(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),aM=rG(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),aS=rV("toLowerCase"),aR=rG(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),aL=rG(function(t,e,n){return t+(n?" ":"")+aP(e)}),aA=rG(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),aP=rV("toUpperCase");function aD(t,e,n){if(t=o7(t),(e=n?r:e)===r){var i;return(i=t,tX.test(i))?t.match(tV)||[]:t.match(tr)||[]}return t.match(e)||[]}var aT=rh(function(t,e){try{return ea(t,r,e)}catch(t){return o$(t)?t:new tx(t)}}),aO=ii(function(t,e){return eu(e,function(e){nP(t,e=iW(e),ox(t[e],t))}),t});function aj(t){return function(){return t}}var aI=rK(),az=rK(!0);function aW(t){return t}function aN(t){return n9("function"==typeof t?t:nO(t,1))}var aB=rh(function(t,e){return function(n){return n2(n,t,e)}}),a$=rh(function(t,e){return function(n){return n2(t,n,e)}});function aU(t,e,n){var r=af(e),i=nX(e,r);null!=n||oH(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=nX(e,af(e)));var o=!(oH(n)&&"chain"in n)||!!n.chain,a=oU(t);return eu(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=rB(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,ep([this.value()],arguments))})}),t}function aq(){}var aF=r0(ed),aH=r0(el),aV=r0(eb);function aG(t){return iC(t)?ek(iW(t)):function(e){return nZ(e,t)}}var aX=r2(),aZ=r2(!0);function aK(){return[]}function aY(){return!1}var aJ=rQ(function(t,e){return t+e},0),aQ=r4("ceil"),a0=rQ(function(t,e){return t/e},1),a1=r4("floor"),a2=rQ(function(t,e){return t*e},1),a5=r4("round"),a3=rQ(function(t,e){return t-e},0);return np.after=function(t,e){if("function"!=typeof e)throw new tM(i);return t=o4(t),function(){if(--t<1)return e.apply(this,arguments)}},np.ary=om,np.assign=at,np.assignIn=ae,np.assignInWith=an,np.assignWith=ar,np.at=ai,np.before=oy,np.bind=ox,np.bindAll=aO,np.bindKey=o_,np.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return oj(t)?t:[t]},np.chain=or,np.chunk=function(t,e,n){e=(n?iw(t,e,n):e===r)?1:e2(o4(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=tm(eZ(i/e));o<i;)s[a++]=rg(t,o,o+=e);return s},np.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},np.concat=function(){var t=arguments.length;if(!t)return[];for(var e=tm(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ep(oj(n)?rB(n):[n],nq(e,1))},np.cond=function(t){var e=null==t?0:t.length,n=ic();return t=e?ed(t,function(t){if("function"!=typeof t[1])throw new tM(i);return[n(t[0]),t[1]]}):[],rh(function(n){for(var r=-1;++r<e;){var i=t[r];if(ea(i[0],this,n))return ea(i[1],this,n)}})},np.conforms=function(t){var e,n;return n=af(e=nO(t,1)),function(t){return nj(t,e,n)}},np.constant=aj,np.countBy=oa,np.create=function(t,e){var n=ng(t);return null==e?n:nA(n,e)},np.curry=function t(e,n,i){n=i?r:n;var o=r6(e,8,r,r,r,r,r,n);return o.placeholder=t.placeholder,o},np.curryRight=function t(e,n,i){n=i?r:n;var o=r6(e,16,r,r,r,r,r,n);return o.placeholder=t.placeholder,o},np.debounce=ow,np.defaults=ao,np.defaultsDeep=aa,np.defer=oC,np.delay=oE,np.difference=i$,np.differenceBy=iU,np.differenceWith=iq,np.drop=function(t,e,n){var i=null==t?0:t.length;return i?rg(t,(e=n||e===r?1:o4(e))<0?0:e,i):[]},np.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?rg(t,0,(e=i-(e=n||e===r?1:o4(e)))<0?0:e):[]},np.dropRightWhile=function(t,e){return t&&t.length?rk(t,ic(e,3),!0,!0):[]},np.dropWhile=function(t,e){return t&&t.length?rk(t,ic(e,3),!0):[]},np.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&iw(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=o4(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:o4(i))<0&&(i+=o),i=n>i?0:o8(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},np.filter=function(t,e){return(oj(t)?ec:nU)(t,ic(e,3))},np.flatMap=function(t,e){return nq(op(t,e),1)},np.flatMapDeep=function(t,e){return nq(op(t,e),s)},np.flatMapDepth=function(t,e,n){return n=n===r?1:o4(n),nq(op(t,e),n)},np.flatten=iV,np.flattenDeep=function(t){return(null==t?0:t.length)?nq(t,s):[]},np.flattenDepth=function(t,e){return(null==t?0:t.length)?nq(t,e=e===r?1:o4(e)):[]},np.flip=function(t){return r6(t,512)},np.flow=aI,np.flowRight=az,np.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},np.functions=function(t){return null==t?[]:nX(t,af(t))},np.functionsIn=function(t){return null==t?[]:nX(t,ad(t))},np.groupBy=oh,np.initial=function(t){return(null==t?0:t.length)?rg(t,0,-1):[]},np.intersection=iX,np.intersectionBy=iZ,np.intersectionWith=iK,np.invert=al,np.invertBy=ac,np.invokeMap=of,np.iteratee=aN,np.keyBy=od,np.keys=af,np.keysIn=ad,np.map=op,np.mapKeys=function(t,e){var n={};return e=ic(e,3),nV(t,function(t,r,i){nP(n,e(t,r,i),t)}),n},np.mapValues=function(t,e){var n={};return e=ic(e,3),nV(t,function(t,r,i){nP(n,r,e(t,r,i))}),n},np.matches=function(t){return re(nO(t,1))},np.matchesProperty=function(t,e){return rn(t,nO(e,1))},np.memoize=ok,np.merge=ap,np.mergeWith=ag,np.method=aB,np.methodOf=a$,np.mixin=aU,np.negate=oM,np.nthArg=function(t){return t=o4(t),rh(function(e){return ri(e,t)})},np.omit=av,np.omitBy=function(t,e){return am(t,oM(ic(e)))},np.once=function(t){return oy(2,t)},np.orderBy=function(t,e,n,i){return null==t?[]:(oj(e)||(e=null==e?[]:[e]),oj(n=i?r:n)||(n=null==n?[]:[n]),ro(t,e,n))},np.over=aF,np.overArgs=oS,np.overEvery=aH,np.overSome=aV,np.partial=oR,np.partialRight=oL,np.partition=og,np.pick=ab,np.pickBy=am,np.property=aG,np.propertyOf=function(t){return function(e){return null==t?r:nZ(t,e)}},np.pull=iJ,np.pullAll=iQ,np.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?rs(t,e,ic(n,2)):t},np.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?rs(t,e,r,n):t},np.pullAt=i0,np.range=aX,np.rangeRight=aZ,np.rearg=oA,np.reject=function(t,e){return(oj(t)?ec:nU)(t,oM(ic(e,3)))},np.remove=function(t,e){var n=[];if(!(t&&t.length))return n;var r=-1,i=[],o=t.length;for(e=ic(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return ru(t,i),n},np.rest=function(t,e){if("function"!=typeof t)throw new tM(i);return rh(t,e=e===r?e:o4(e))},np.reverse=i1,np.sampleSize=function(t,e,n){return e=(n?iw(t,e,n):e===r)?1:o4(e),(oj(t)?function(t,e){return iI(rB(t),nT(e,0,t.length))}:function(t,e){var n=a_(t);return iI(n,nT(e,0,n.length))})(t,e)},np.set=function(t,e,n){return null==t?t:rf(t,e,n)},np.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:rf(t,e,n,i)},np.shuffle=function(t){return(oj(t)?function(t){return iI(rB(t))}:function(t){return iI(a_(t))})(t)},np.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&iw(t,e,n)?(e=0,n=i):(e=null==e?0:o4(e),n=n===r?i:o4(n)),rg(t,e,n)):[]},np.sortBy=ov,np.sortedUniq=function(t){return t&&t.length?ry(t):[]},np.sortedUniqBy=function(t,e){return t&&t.length?ry(t,ic(e,2)):[]},np.split=function(t,e,n){return(n&&"number"!=typeof n&&iw(t,e,n)&&(e=n=r),n=n===r?4294967295:n>>>0)?(t=o7(t))&&("string"==typeof e||null!=e&&!oK(e))&&!(e=r_(e))&&eN(t)?rD(eH(t),0,n):t.split(e,n):[]},np.spread=function(t,e){if("function"!=typeof t)throw new tM(i);return e=null==e?0:e2(o4(e),0),rh(function(n){var r=n[e],i=rD(n,0,e);return r&&ep(i,r),ea(t,this,i)})},np.tail=function(t){var e=null==t?0:t.length;return e?rg(t,1,e):[]},np.take=function(t,e,n){return t&&t.length?rg(t,0,(e=n||e===r?1:o4(e))<0?0:e):[]},np.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?rg(t,(e=i-(e=n||e===r?1:o4(e)))<0?0:e,i):[]},np.takeRightWhile=function(t,e){return t&&t.length?rk(t,ic(e,3),!1,!0):[]},np.takeWhile=function(t,e){return t&&t.length?rk(t,ic(e,3)):[]},np.tap=function(t,e){return e(t),t},np.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new tM(i);return oH(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ow(t,e,{leading:r,maxWait:e,trailing:o})},np.thru=oi,np.toArray=o5,np.toPairs=ay,np.toPairsIn=ax,np.toPath=function(t){return oj(t)?ed(t,iW):oQ(t)?[t]:rB(iz(o7(t)))},np.toPlainObject=o6,np.transform=function(t,e,n){var r=oj(t),i=r||oN(t)||o0(t);if(e=ic(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:oH(t)&&oU(o)?ng(tH(t)):{}}return(i?eu:nV)(t,function(t,r,i){return e(n,t,r,i)}),n},np.unary=function(t){return om(t,1)},np.union=i2,np.unionBy=i5,np.unionWith=i3,np.uniq=function(t){return t&&t.length?rw(t):[]},np.uniqBy=function(t,e){return t&&t.length?rw(t,ic(e,2)):[]},np.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?rw(t,r,e):[]},np.unset=function(t,e){return null==t||rC(t,e)},np.unzip=i4,np.unzipWith=i8,np.update=function(t,e,n){return null==t?t:rE(t,e,rA(n))},np.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:rE(t,e,rA(n),i)},np.values=a_,np.valuesIn=function(t){return null==t?[]:eD(t,ad(t))},np.without=i9,np.words=aD,np.wrap=function(t,e){return oR(rA(e),t)},np.xor=i6,np.xorBy=i7,np.xorWith=ot,np.zip=oe,np.zipObject=function(t,e){return rR(t||[],e||[],nS)},np.zipObjectDeep=function(t,e){return rR(t||[],e||[],rf)},np.zipWith=on,np.entries=ay,np.entriesIn=ax,np.extend=ae,np.extendWith=an,aU(np,np),np.add=aJ,np.attempt=aT,np.camelCase=aw,np.capitalize=aC,np.ceil=aQ,np.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=o9(n))==n?n:0),e!==r&&(e=(e=o9(e))==e?e:0),nT(o9(t),e,n)},np.clone=function(t){return nO(t,4)},np.cloneDeep=function(t){return nO(t,5)},np.cloneDeepWith=function(t,e){return nO(t,5,e="function"==typeof e?e:r)},np.cloneWith=function(t,e){return nO(t,4,e="function"==typeof e?e:r)},np.conformsTo=function(t,e){return null==e||nj(t,e,af(e))},np.deburr=aE,np.defaultTo=function(t,e){return null==t||t!=t?e:t},np.divide=a0,np.endsWith=function(t,e,n){t=o7(t),e=r_(e);var i=t.length,o=n=n===r?i:nT(o4(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},np.eq=oP,np.escape=function(t){return(t=o7(t))&&q.test(t)?t.replace($,ez):t},np.escapeRegExp=function(t){return(t=o7(t))&&Y.test(t)?t.replace(K,"\\$&"):t},np.every=function(t,e,n){var i=oj(t)?el:nB;return n&&iw(t,e,n)&&(e=r),i(t,ic(e,3))},np.find=os,np.findIndex=iF,np.findKey=function(t,e){return ey(t,ic(e,3),nV)},np.findLast=ou,np.findLastIndex=iH,np.findLastKey=function(t,e){return ey(t,ic(e,3),nG)},np.floor=a1,np.forEach=ol,np.forEachRight=oc,np.forIn=function(t,e){return null==t?t:nF(t,ic(e,3),ad)},np.forInRight=function(t,e){return null==t?t:nH(t,ic(e,3),ad)},np.forOwn=function(t,e){return t&&nV(t,ic(e,3))},np.forOwnRight=function(t,e){return t&&nG(t,ic(e,3))},np.get=as,np.gt=oD,np.gte=oT,np.has=function(t,e){return null!=t&&im(t,e,nQ)},np.hasIn=au,np.head=iG,np.identity=aW,np.includes=function(t,e,n,r){t=oz(t)?t:a_(t),n=n&&!r?o4(n):0;var i=t.length;return n<0&&(n=e2(i+n,0)),oJ(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&e_(t,e,n)>-1},np.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return -1;var i=null==n?0:o4(n);return i<0&&(i=e2(r+i,0)),e_(t,e,i)},np.inRange=function(t,e,n){var i,o,a;return e=o3(e),n===r?(n=e,e=0):n=o3(n),(i=t=o9(t))>=e5(o=e,a=n)&&i<e2(o,a)},np.invoke=ah,np.isArguments=oO,np.isArray=oj,np.isArrayBuffer=oI,np.isArrayLike=oz,np.isArrayLikeObject=oW,np.isBoolean=function(t){return!0===t||!1===t||oV(t)&&nY(t)==f},np.isBuffer=oN,np.isDate=oB,np.isElement=function(t){return oV(t)&&1===t.nodeType&&!oZ(t)},np.isEmpty=function(t){if(null==t)return!0;if(oz(t)&&(oj(t)||"string"==typeof t||"function"==typeof t.splice||oN(t)||o0(t)||oO(t)))return!t.length;var e=ib(t);if(e==b||e==w)return!t.size;if(iM(t))return!n6(t).length;for(var n in t)if(tD.call(t,n))return!1;return!0},np.isEqual=function(t,e){return n3(t,e)},np.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?n3(t,e,r,n):!!i},np.isError=o$,np.isFinite=function(t){return"number"==typeof t&&eQ(t)},np.isFunction=oU,np.isInteger=oq,np.isLength=oF,np.isMap=oG,np.isMatch=function(t,e){return t===e||n4(t,e,id(e))},np.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,n4(t,e,id(e),n)},np.isNaN=function(t){return oX(t)&&t!=+t},np.isNative=function(t){if(ik(t))throw new tx("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return n8(t)},np.isNil=function(t){return null==t},np.isNull=function(t){return null===t},np.isNumber=oX,np.isObject=oH,np.isObjectLike=oV,np.isPlainObject=oZ,np.isRegExp=oK,np.isSafeInteger=function(t){return oq(t)&&t>=-9007199254740991&&t<=9007199254740991},np.isSet=oY,np.isString=oJ,np.isSymbol=oQ,np.isTypedArray=o0,np.isUndefined=function(t){return t===r},np.isWeakMap=function(t){return oV(t)&&ib(t)==k},np.isWeakSet=function(t){return oV(t)&&"[object WeakSet]"==nY(t)},np.join=function(t,e){return null==t?"":e0.call(t,e)},np.kebabCase=ak,np.last=iY,np.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return -1;var o=i;return n!==r&&(o=(o=o4(n))<0?e2(i+o,0):e5(o,i-1)),e==e?function(t,e,n){for(var r=n+1;r--&&t[r]!==e;);return r}(t,e,o):ex(t,eC,o,!0)},np.lowerCase=aM,np.lowerFirst=aS,np.lt=o1,np.lte=o2,np.max=function(t){return t&&t.length?n$(t,aW,nJ):r},np.maxBy=function(t,e){return t&&t.length?n$(t,ic(e,2),nJ):r},np.mean=function(t){return eE(t,aW)},np.meanBy=function(t,e){return eE(t,ic(e,2))},np.min=function(t){return t&&t.length?n$(t,aW,n7):r},np.minBy=function(t,e){return t&&t.length?n$(t,ic(e,2),n7):r},np.stubArray=aK,np.stubFalse=aY,np.stubObject=function(){return{}},np.stubString=function(){return""},np.stubTrue=function(){return!0},np.multiply=a2,np.nth=function(t,e){return t&&t.length?ri(t,o4(e)):r},np.noConflict=function(){return t3._===this&&(t3._=tz),this},np.noop=aq,np.now=ob,np.pad=function(t,e,n){t=o7(t);var r=(e=o4(e))?eF(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return r1(eK(i),n)+t+r1(eZ(i),n)},np.padEnd=function(t,e,n){t=o7(t);var r=(e=o4(e))?eF(t):0;return e&&r<e?t+r1(e-r,n):t},np.padStart=function(t,e,n){t=o7(t);var r=(e=o4(e))?eF(t):0;return e&&r<e?r1(e-r,n)+t:t},np.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),e4(o7(t).replace(J,""),e||0)},np.random=function(t,e,n){if(n&&"boolean"!=typeof n&&iw(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=o3(t),e===r?(e=t,t=0):e=o3(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=e8();return e5(t+o*(e-t+t0("1e-"+((o+"").length-1))),e)}return rl(t,e)},np.reduce=function(t,e,n){var r=oj(t)?eg:eS,i=arguments.length<3;return r(t,ic(e,4),n,i,nW)},np.reduceRight=function(t,e,n){var r=oj(t)?ev:eS,i=arguments.length<3;return r(t,ic(e,4),n,i,nN)},np.repeat=function(t,e,n){return e=(n?iw(t,e,n):e===r)?1:o4(e),rc(o7(t),e)},np.replace=function(){var t=arguments,e=o7(t[0]);return t.length<3?e:e.replace(t[1],t[2])},np.result=function(t,e,n){e=rP(e,t);var i=-1,o=e.length;for(o||(o=1,t=r);++i<o;){var a=null==t?r:t[iW(e[i])];a===r&&(i=o,a=n),t=oU(a)?a.call(t):a}return t},np.round=a5,np.runInContext=t,np.sample=function(t){return(oj(t)?nk:function(t){return nk(a_(t))})(t)},np.size=function(t){if(null==t)return 0;if(oz(t))return oJ(t)?eF(t):t.length;var e=ib(t);return e==b||e==w?t.size:n6(t).length},np.snakeCase=aR,np.some=function(t,e,n){var i=oj(t)?eb:rv;return n&&iw(t,e,n)&&(e=r),i(t,ic(e,3))},np.sortedIndex=function(t,e){return rb(t,e)},np.sortedIndexBy=function(t,e,n){return rm(t,e,ic(n,2))},np.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=rb(t,e);if(r<n&&oP(t[r],e))return r}return -1},np.sortedLastIndex=function(t,e){return rb(t,e,!0)},np.sortedLastIndexBy=function(t,e,n){return rm(t,e,ic(n,2),!0)},np.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=rb(t,e,!0)-1;if(oP(t[n],e))return n}return -1},np.startCase=aL,np.startsWith=function(t,e,n){return t=o7(t),n=null==n?0:nT(o4(n),0,t.length),e=r_(e),t.slice(n,n+e.length)==e},np.subtract=a3,np.sum=function(t){return t&&t.length?eR(t,aW):0},np.sumBy=function(t,e){return t&&t.length?eR(t,ic(e,2)):0},np.template=function(t,e,n){var i=np.templateSettings;n&&iw(t,e,n)&&(e=r),t=o7(t),e=an({},e,i,r7);var o,a,s=an({},e.imports,i.imports,r7),u=af(s),l=eD(s,u),c=0,h=e.interpolate||tp,f="__p += '",d=tE((e.escape||tp).source+"|"+h.source+"|"+(h===V?ta:tp).source+"|"+(e.evaluate||tp).source+"|$","g"),p="//# sourceURL="+(tD.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tK+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),f+=t.slice(c,u).replace(tg,eW),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var g=tD.call(e,"variable")&&e.variable;if(g){if(ti.test(g))throw new tx("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(z,""):f).replace(W,"$1").replace(N,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=aT(function(){return t_(u,p+"return "+f).apply(r,l)});if(v.source=f,o$(v))throw v;return v},np.times=function(t,e){if((t=o4(t))<1||t>9007199254740991)return[];var n=4294967295,r=e5(t,4294967295);e=ic(e),t-=4294967295;for(var i=eL(r,e);++n<t;)e(n);return i},np.toFinite=o3,np.toInteger=o4,np.toLength=o8,np.toLower=function(t){return o7(t).toLowerCase()},np.toNumber=o9,np.toSafeInteger=function(t){return t?nT(o4(t),-9007199254740991,9007199254740991):0===t?t:0},np.toString=o7,np.toUpper=function(t){return o7(t).toUpperCase()},np.trim=function(t,e,n){if((t=o7(t))&&(n||e===r))return eA(t);if(!t||!(e=r_(e)))return t;var i=eH(t),o=eH(e),a=eO(i,o),s=ej(i,o)+1;return rD(i,a,s).join("")},np.trimEnd=function(t,e,n){if((t=o7(t))&&(n||e===r))return t.slice(0,eV(t)+1);if(!t||!(e=r_(e)))return t;var i=eH(t),o=ej(i,eH(e))+1;return rD(i,0,o).join("")},np.trimStart=function(t,e,n){if((t=o7(t))&&(n||e===r))return t.replace(J,"");if(!t||!(e=r_(e)))return t;var i=eH(t),o=eO(i,eH(e));return rD(i,o).join("")},np.truncate=function(t,e){var n=30,i="...";if(oH(e)){var o="separator"in e?e.separator:o;n="length"in e?o4(e.length):n,i="omission"in e?r_(e.omission):i}var a=(t=o7(t)).length;if(eN(t)){var s=eH(t);a=s.length}if(n>=a)return t;var u=n-eF(i);if(u<1)return i;var l=s?rD(s,0,u).join(""):t.slice(0,u);if(o===r)return l+i;if(s&&(u+=l.length-u),oK(o)){if(t.slice(u).search(o)){var c,h=l;for(o.global||(o=tE(o.source,o7(ts.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,f===r?u:f)}}else if(t.indexOf(r_(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+i},np.unescape=function(t){return(t=o7(t))&&U.test(t)?t.replace(B,eG):t},np.uniqueId=function(t){var e=++tT;return o7(t)+e},np.upperCase=aA,np.upperFirst=aP,np.each=ol,np.eachRight=oc,np.first=iG,aU(np,(tb={},nV(np,function(t,e){tD.call(np.prototype,e)||(tb[e]=t)}),tb),{chain:!1}),np.VERSION="4.17.21",eu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){np[t].placeholder=np}),eu(["drop","take"],function(t,e){nm.prototype[t]=function(n){n=n===r?1:e2(o4(n),0);var i=this.__filtered__&&!e?new nm(this):this.clone();return i.__filtered__?i.__takeCount__=e5(n,i.__takeCount__):i.__views__.push({size:e5(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},nm.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),eu(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;nm.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ic(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),eu(["head","last"],function(t,e){var n="take"+(e?"Right":"");nm.prototype[t]=function(){return this[n](1).value()[0]}}),eu(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");nm.prototype[t]=function(){return this.__filtered__?new nm(this):this[n](1)}}),nm.prototype.compact=function(){return this.filter(aW)},nm.prototype.find=function(t){return this.filter(t).head()},nm.prototype.findLast=function(t){return this.reverse().find(t)},nm.prototype.invokeMap=rh(function(t,e){return"function"==typeof t?new nm(this):this.map(function(n){return n2(n,t,e)})}),nm.prototype.reject=function(t){return this.filter(oM(ic(t)))},nm.prototype.slice=function(t,e){t=o4(t);var n=this;return n.__filtered__&&(t>0||e<0)?new nm(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=o4(e))<0?n.dropRight(-e):n.take(e-t)),n)},nm.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},nm.prototype.toArray=function(){return this.take(4294967295)},nV(nm.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=np[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(np.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof nm,l=s[0],c=u||oj(e),h=function(t){var e=o.apply(np,ep([t],s));return i&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=a&&!f,g=u&&!d;if(!a&&c){e=g?e:new nm(this);var v=t.apply(e,s);return v.__actions__.push({func:oi,args:[h],thisArg:r}),new nb(v,f)}return p&&g?t.apply(this,s):(v=this.thru(h),p?i?v.value()[0]:v.value():v)})}),eu(["pop","push","shift","sort","splice","unshift"],function(t){var e=tS[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);np.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(oj(i)?i:[],t)}return this[n](function(n){return e.apply(oj(n)?n:[],t)})}}),nV(nm.prototype,function(t,e){var n=np[e];if(n){var r=n.name+"";tD.call(no,r)||(no[r]=[]),no[r].push({name:e,func:n})}}),no[rY(r,2).name]=[{name:"wrapper",func:r}],nm.prototype.clone=function(){var t=new nm(this.__wrapped__);return t.__actions__=rB(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rB(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rB(this.__views__),t},nm.prototype.reverse=function(){if(this.__filtered__){var t=new nm(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},nm.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=oj(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=e5(e,t+a);break;case"takeRight":t=e2(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=e5(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return rM(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,v=t[l+=e];++g<h;){var b=c[g],m=b.iteratee,y=b.type,x=m(v);if(2==y)v=x;else if(!x){if(1==y)continue t;break t}}p[f++]=v}return p},np.prototype.at=oo,np.prototype.chain=function(){return or(this)},np.prototype.commit=function(){return new nb(this.value(),this.__chain__)},np.prototype.next=function(){this.__values__===r&&(this.__values__=o5(this.value()));var t=this.__index__>=this.__values__.length,e=t?r:this.__values__[this.__index__++];return{done:t,value:e}},np.prototype.plant=function(t){for(var e,n=this;n instanceof nv;){var i=iB(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},np.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof nm){var e=t;return this.__actions__.length&&(e=new nm(this)),(e=e.reverse()).__actions__.push({func:oi,args:[i1],thisArg:r}),new nb(e,this.__chain__)}return this.thru(i1)},np.prototype.toJSON=np.prototype.valueOf=np.prototype.value=function(){return rM(this.__wrapped__,this.__actions__)},np.prototype.first=np.prototype.head,t4&&(np.prototype[t4]=function(){return this}),np}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t3._=eX,define(function(){return eX})):t8?((t8.exports=eX)._=eX,t4._=eX):t3._=eX}).call(this)});var o=i("f1q41"),a={decode:function(t,e){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function*(){let n=new AudioContext({sampleRate:e});return n.decodeAudioData(t).finally(()=>n.close())},new(i||(i=Promise))(function(t,e){function a(t){try{u(o.next(t))}catch(t){e(t)}}function s(t){try{u(o.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):((n=e.value)instanceof i?n:new i(function(t){t(n)})).then(a,s)}u((o=o.apply(n,r||[])).next())})},createBuffer:function(t,e){return"number"==typeof t[0]&&(t=[t]),!function(t){let e=t[0];if(e.some(t=>t>1||t<-1)){let n=e.length,r=0;for(let t=0;t<n;t++){let n=Math.abs(e[t]);n>r&&(r=n)}for(let e of t)for(let t=0;t<n;t++)e[t]/=r}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:e=>null==t?void 0:t[e],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}},s=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},u={fetchBlob:function(t,e,n){return s(this,void 0,void 0,function*(){let r=yield fetch(t,n);if(!r.ok)throw Error(`Failed to fetch ${t}: ${r.status} (${r.statusText})`);return!function(t,e){s(this,void 0,void 0,function*(){if(!t.body||!t.headers)return;let n=t.body.getReader(),r=Number(t.headers.get("Content-Length"))||0,i=0,o=t=>s(this,void 0,void 0,function*(){e(Math.round((i+=(null==t?void 0:t.length)||0)/r*100))}),a=()=>s(this,void 0,void 0,function*(){let t;try{t=yield n.read()}catch(t){return}t.done||(o(t.value),yield a())});a()})}(r.clone(),e),r.blob()})}},l=class{constructor(){this.listeners={}}on(t,e,n){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==n?void 0:n.once){let n=()=>{this.un(t,n),this.un(t,e)};return this.on(t,n),n}return()=>this.un(t,e)}un(t,e){var n;null===(n=this.listeners[t])||void 0===n||n.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach(t=>t(...e))}},c=class extends l{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),null!=t.playbackRate&&this.onceMediaEvent("canplay",()=>{null!=t.playbackRate&&(this.media.playbackRate=t.playbackRate)})}onMediaEvent(t,e,n){return this.media.addEventListener(t,e,n),()=>this.media.removeEventListener(t,e)}onceMediaEvent(t,e){return this.onMediaEvent(t,e,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){let t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}setSrc(t,e){if(this.getSrc()===t)return;this.revokeSrc();let n=e instanceof Blob?URL.createObjectURL(e):t;this.media.src=n}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(t){this.media=t}play(){return this.media.play()}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=t}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}setPlaybackRate(t,e){null!=e&&(this.media.preservesPitch=e),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}};class h extends l{constructor(t,e){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=t;let n=this.parentFromOptionsContainer(t.container);this.parent=n;let[r,i]=this.initHtml();n.appendChild(r),this.container=r,this.scrollContainer=i.querySelector(".scroll"),this.wrapper=i.querySelector(".wrapper"),this.canvasWrapper=i.querySelector(".canvases"),this.progressWrapper=i.querySelector(".progress"),this.cursor=i.querySelector(".cursor"),e&&i.appendChild(e),this.initEvents()}parentFromOptionsContainer(t){let e;if("string"==typeof t?e=document.querySelector(t):t instanceof HTMLElement&&(e=t),!e)throw Error("Container not found");return e}initEvents(){let t=t=>{let e=this.wrapper.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientX-e.left;return[n/e.width,r/e.height]};this.wrapper.addEventListener("click",e=>{let[n,r]=t(e);this.emit("click",n,r)}),this.wrapper.addEventListener("dblclick",e=>{let[n,r]=t(e);this.emit("dblclick",n,r)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{let{scrollLeft:t,scrollWidth:e,clientWidth:n}=this.scrollContainer;this.emit("scroll",t/e,(t+n)/e)});let e=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{e(()=>this.onContainerResize())}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){let t=this.parent.clientWidth;(t!==this.lastContainerWidth||"auto"===this.options.height)&&(this.lastContainerWidth=t,this.reRender())}initDrag(){!function(t,e,n,r,i=3,o=0){if(!t)return()=>void 0;let a=()=>void 0,s=s=>{if(s.button!==o)return;s.preventDefault(),s.stopPropagation();let u=s.clientX,l=s.clientY,c=!1,h=r=>{r.preventDefault(),r.stopPropagation();let o=r.clientX,a=r.clientY,s=o-u,h=a-l;if(c||Math.abs(s)>i||Math.abs(h)>i){let{left:r,top:i}=t.getBoundingClientRect();c||(null==n||n(u-r,l-i),c=!0),e(s,h,o-r,a-i),u=o,l=a}},f=()=>{c&&(null==r||r()),a()},d=t=>{c&&(t.stopPropagation(),t.preventDefault())},p=t=>{c&&t.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",f),document.addEventListener("pointerout",f),document.addEventListener("pointercancel",f),document.addEventListener("touchmove",p,{passive:!1}),document.addEventListener("click",d,{capture:!0}),a=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",f),document.removeEventListener("pointerout",f),document.removeEventListener("pointercancel",f),document.removeEventListener("touchmove",p),setTimeout(()=>{document.removeEventListener("click",d,{capture:!0})},10)}};t.addEventListener("pointerdown",s),()=>{a(),t.removeEventListener("pointerdown",s)}}(this.wrapper,(t,e,n)=>{this.emit("drag",Math.max(0,Math.min(1,n/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(t){return null==t?128:isNaN(Number(t))?"auto"===t&&this.parent.clientHeight||128:Number(t)}initHtml(){let t=document.createElement("div"),e=t.attachShadow({mode:"open"});return e.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,e]}setOptions(t){if(this.options.container!==t.container){let e=this.parentFromOptionsContainer(t.container);e.appendChild(this.container),this.parent=e}t.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}destroy(){var t;this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect()}createDelay(t=10){let e={};return this.timeouts.push(e),n=>{e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout(n,t)}}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length<2)return t[0]||"";let e=document.createElement("canvas"),n=e.getContext("2d"),r=e.height*(window.devicePixelRatio||1),i=n.createLinearGradient(0,0,0,r),o=1/(t.length-1);return t.forEach((t,e)=>{i.addColorStop(e*o,t)}),i}renderBarWaveform(t,e,n,r){let i=t[0],o=t[1]||t[0],a=i.length,{width:s,height:u}=n.canvas,l=u/2,c=window.devicePixelRatio||1,h=e.barWidth?e.barWidth*c:1,f=e.barGap?e.barGap*c:e.barWidth?h/2:0,d=e.barRadius||0,p=s/(h+f)/a,g=d&&"roundRect"in n?"roundRect":"rect";n.beginPath();let v=0,b=0,m=0;for(let t=0;t<=a;t++){let a=Math.round(t*p);if(a>v){let t=Math.round(b*l*r),i=t+Math.round(m*l*r)||1,o=l-t;"top"===e.barAlign?o=0:"bottom"===e.barAlign&&(o=u-i),n[g](v*(h+f),o,h,i,d),v=a,b=0,m=0}let s=Math.abs(i[t]||0),c=Math.abs(o[t]||0);s>b&&(b=s),c>m&&(m=c)}n.fill(),n.closePath()}renderLineWaveform(t,e,n,r){let i=e=>{let i=t[e]||t[0],o=i.length,{height:a}=n.canvas,s=a/2,u=n.canvas.width/o;n.moveTo(0,s);let l=0,c=0;for(let t=0;t<=o;t++){let o=Math.round(t*u);if(o>l){let t=Math.round(c*s*r)||1,i=s+t*(0===e?-1:1);n.lineTo(l,i),l=o,c=0}let a=Math.abs(i[t]||0);a>c&&(c=a)}n.lineTo(l,s)};n.beginPath(),i(0),i(1),n.fill(),n.closePath()}renderWaveform(t,e,n){if(n.fillStyle=this.convertColorValues(e.waveColor),e.renderFunction){e.renderFunction(t,n);return}let r=e.barHeight||1;if(e.normalize){let e=Array.from(t[0]).reduce((t,e)=>Math.max(t,Math.abs(e)),0);r=e?1/e:1}if(e.barWidth||e.barGap||e.barAlign){this.renderBarWaveform(t,e,n,r);return}this.renderLineWaveform(t,e,n,r)}renderSingleCanvas(t,e,n,r,i,o,a,s){let u=window.devicePixelRatio||1,l=document.createElement("canvas"),c=t[0].length;l.width=Math.round(n*(o-i)/c),l.height=r*u,l.style.width=`${Math.floor(l.width/u)}px`,l.style.height=`${r}px`,l.style.left=`${Math.floor(i*n/u/c)}px`,a.appendChild(l);let h=l.getContext("2d");if(this.renderWaveform(t.map(t=>t.slice(i,o)),e,h),l.width>0&&l.height>0){let t=l.cloneNode(),n=t.getContext("2d");n.drawImage(l,0,0),n.globalCompositeOperation="source-in",n.fillStyle=this.convertColorValues(e.progressColor),n.fillRect(0,0,l.width,l.height),s.appendChild(t)}}renderChannel(t,e,n){let r=document.createElement("div"),i=this.getHeight(e.height);r.style.height=`${i}px`,this.canvasWrapper.style.minHeight=`${i}px`,this.canvasWrapper.appendChild(r);let o=r.cloneNode();this.progressWrapper.appendChild(o);let{scrollLeft:a,scrollWidth:s,clientWidth:u}=this.scrollContainer,l=t[0].length,c=l/s,f=Math.min(h.MAX_CANVAS_WIDTH,u);if(e.barWidth||e.barGap){let t=e.barWidth||.5,n=e.barGap||t/2,r=t+n;f%r!=0&&(f=Math.floor(f/r)*r)}let d=Math.floor(Math.abs(a)*c),p=Math.floor(d+f*c),g=p-d,v=(a,s)=>{this.renderSingleCanvas(t,e,n,i,Math.max(0,a),Math.min(s,l),r,o)},b=this.createDelay(),m=this.createDelay(),y=(t,e)=>{v(t,e),t>0&&b(()=>{y(t-g,e-g)})},x=(t,e)=>{v(t,e),e<l&&m(()=>{x(t+g,e+g)})};y(d,p),p<l&&x(p,p+g)}render(t){this.timeouts.forEach(t=>t.timeout&&clearTimeout(t.timeout)),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",null!=this.options.width&&(this.scrollContainer.style.width="number"==typeof this.options.width?`${this.options.width}px`:this.options.width);let e=window.devicePixelRatio||1,n=this.scrollContainer.clientWidth,r=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=r>n;let i=this.options.fillParent&&!this.isScrollable,o=(i?n:r)*e;if(this.wrapper.style.width=i?"100%":`${r}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.options.splitChannels)for(let e=0;e<t.numberOfChannels;e++){let n=Object.assign(Object.assign({},this.options),this.options.splitChannels[e]);this.renderChannel([t.getChannelData(e)],n,o)}else{let e=[t.getChannelData(0)];t.numberOfChannels>1&&e.push(t.getChannelData(1)),this.renderChannel(e,this.options,o)}this.audioData=t,this.emit("render")}reRender(){if(!this.audioData)return;let{scrollWidth:t}=this.scrollContainer,e=this.progressWrapper.clientWidth;if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){let t=this.progressWrapper.clientWidth;this.scrollContainer.scrollLeft+=t-e}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,e=!1){let{scrollLeft:n,scrollWidth:r,clientWidth:i}=this.scrollContainer,o=t*r,a=n+i,s=i/2;if(this.isDragging)o+30>a?this.scrollContainer.scrollLeft+=30:o-30<n&&(this.scrollContainer.scrollLeft-=30);else{(o<n||o>a)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?s:0));let t=o-n-s;e&&this.options.autoCenter&&t>0&&(this.scrollContainer.scrollLeft+=Math.min(t,10))}{let t=this.scrollContainer.scrollLeft;this.emit("scroll",t/r,(t+i)/r)}}renderProgress(t,e){if(isNaN(t))return;let n=100*t;this.canvasWrapper.style.clipPath=`polygon(${n}% 0, 100% 0, 100% 100%, ${n}% 100%)`,this.progressWrapper.style.width=`${n}%`,this.cursor.style.left=`${n}%`,this.cursor.style.marginLeft=100===Math.round(n)?`-${this.options.cursorWidth}px`:"",this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,e)}exportImage(t,e,n){var r,i,o,a;return r=this,i=void 0,o=void 0,a=function*(){let r=this.canvasWrapper.querySelectorAll("canvas");if(!r.length)throw Error("No waveform data");return"dataURL"===n?Promise.resolve(Array.from(r).map(n=>n.toDataURL(t,e))):Promise.all(Array.from(r).map(n=>new Promise((r,i)=>{n.toBlob(t=>{t?r(t):i(Error("Could not export image"))},t,e)})))},new(o||(o=Promise))(function(t,e){function n(t){try{u(a.next(t))}catch(t){e(t)}}function s(t){try{u(a.throw(t))}catch(t){e(t)}}function u(e){var r;e.done?t(e.value):((r=e.value)instanceof o?r:new o(function(t){t(r)})).then(n,s)}u((a=a.apply(r,i||[])).next())})}}h.MAX_CANVAS_WIDTH=4e3;var f=class extends l{constructor(){super(...arguments),this.unsubscribe=()=>void 0}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}},d=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},p=class extends l{constructor(t=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return d(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,!t){this.buffer=null,this.emit("emptied");return}fetch(t).then(t=>t.arrayBuffer()).then(e=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(e)).then(e=>{this.currentSrc===t&&(this.buffer=e,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var t;this.paused&&(this.paused=!1,null===(t=this.bufferNode)||void 0===t||t.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.connect(this.gainNode),this.playedDuration>=this.duration&&(this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,this.playedDuration),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))})}_pause(){var t;this.paused||(this.paused=!0,null===(t=this.bufferNode)||void 0===t||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime)}play(){return d(this,void 0,void 0,function*(){this._play(),this.emit("play")})}pause(){this._pause(),this.emit("pause")}stopAt(t){var e,n;let r=t-this.currentTime;null===(e=this.bufferNode)||void 0===e||e.stop(this.audioContext.currentTime+r),null===(n=this.bufferNode)||void 0===n||n.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(t){return d(this,void 0,void 0,function*(){return this.audioContext.setSinkId(t)})}get playbackRate(){var t,e;return null!==(e=null===(t=this.bufferNode)||void 0===t?void 0:t.playbackRate.value)&&void 0!==e?e:1}set playbackRate(t){this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return this.paused?this.playedDuration:this.playedDuration+this.audioContext.currentTime-this.playStartTime}set currentTime(t){this.emit("seeking"),this.paused?this.playedDuration=t:(this._pause(),this.playedDuration=t,this._play()),this.emit("timeupdate")}get duration(){var t;return(null===(t=this.buffer)||void 0===t?void 0:t.duration)||0}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}getGainNode(){return this.gainNode}getChannelData(){let t=[];if(!this.buffer)return t;let e=this.buffer.numberOfChannels;for(let n=0;n<e;n++)t.push(this.buffer.getChannelData(n));return t}},g=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})};const v={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class b extends c{static create(t){return new b(t)}constructor(t){let e=t.media||("WebAudio"===t.backend?new p:void 0);super({media:e,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},v,t),this.timer=new f;let n=e?void 0:this.getMediaElement();this.renderer=new h(this.options,n),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");let t=this.options.url||this.getSrc()||"";(t||this.options.peaks&&this.options.duration)&&this.load(t,this.options.peaks,this.options.duration)})}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{let t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),!0),this.emit("timeupdate",t),this.emit("audioprocess",t)}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{let t=this.getCurrentTime();this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),this.emit("timeupdate",t)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(t,e)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,e))}),this.renderer.on("dblclick",(t,e)=>{this.emit("dblclick",t,e)}),this.renderer.on("scroll",(t,e)=>{let n=this.getDuration();this.emit("scroll",t*n,e*n)}),this.renderer.on("render",()=>{this.emit("redraw")}));{let t;this.subscriptions.push(this.renderer.on("drag",e=>{this.options.interact&&(this.renderer.renderProgress(e),clearTimeout(t),t=setTimeout(()=>{this.seekTo(e)},this.isPlaying()?0:200),this.emit("interaction",e*this.getDuration()),this.emit("drag",e))}))}}initPlugins(){var t;(null===(t=this.options.plugins)||void 0===t?void 0:t.length)&&this.options.plugins.forEach(t=>{this.registerPlugin(t)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(t=>t()),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),null!=t.mediaControls&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){return t._init(this),this.plugins.push(t),this.subscriptions.push(t.once("destroy",()=>{this.plugins=this.plugins.filter(e=>e!==t)})),t}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}getActivePlugins(){return this.plugins}loadAudio(t,e,n,r){return g(this,void 0,void 0,function*(){this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,e||n||(e=yield u.fetchBlob(t,t=>this.emit("loading",t),this.options.fetchParams)),this.setSrc(t,e);let i=r||this.getDuration()||(yield new Promise(t=>{this.onceMediaEvent("loadedmetadata",()=>t(this.getDuration()))}));if(n)this.decodedData=a.createBuffer(n,i||0);else if(e){let t=yield e.arrayBuffer();this.decodedData=yield a.decode(t,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(t,e,n){return g(this,void 0,void 0,function*(){yield this.loadAudio(t,void 0,e,n)})}loadBlob(t,e,n){return g(this,void 0,void 0,function*(){yield this.loadAudio("blob",t,e,n)})}zoom(t){if(!this.decodedData)throw Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:e=8e3,precision:n=1e4}={}){if(!this.decodedData)throw Error("The audio has not been decoded yet");let r=Math.min(t,this.decodedData.numberOfChannels),i=[];for(let t=0;t<r;t++){let r=this.decodedData.getChannelData(t),o=[],a=Math.round(r.length/e);for(let t=0;t<e;t++){let e=r.slice(t*a,(t+1)*a),i=0;for(let t=0;t<e.length;t++){let n=e[t];Math.abs(n)>Math.abs(i)&&(i=n)}o.push(Math.round(i*n)/n)}i.push(o)}return i}getDuration(){let t=super.getDuration()||0;return(0===t||t===1/0)&&this.decodedData&&(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}seekTo(t){let e=this.getDuration()*t;this.setTime(e)}playPause(){return g(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(t="image/png",e=1,n="dataURL"){return g(this,void 0,void 0,function*(){return this.renderer.exportImage(t,e,n)})}destroy(){this.emit("destroy"),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}class m{constructor(){this.listeners={}}on(t,e,n){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==n?void 0:n.once){let n=()=>{this.un(t,n),this.un(t,e)};return this.on(t,n),n}return()=>this.un(t,e)}un(t,e){var n;null===(n=this.listeners[t])||void 0===n||n.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach(t=>t(...e))}}class y extends m{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}}function x(t,e,n){let r=function t(e,n){let r=n.xmlns?document.createElementNS(n.xmlns,e):document.createElement(e);for(let[e,i]of Object.entries(n))if("children"===e)for(let[e,i]of Object.entries(n))"string"==typeof i?r.appendChild(document.createTextNode(i)):r.appendChild(t(e,i));else"style"===e?Object.assign(r.style,i):"textContent"===e?r.textContent=i:r.setAttribute(e,i.toString());return r}(t,e||{});return null==n||n.appendChild(r),r}const _={lineWidth:1,labelSize:11};class w extends y{constructor(t){super(t||{}),this.unsubscribe=()=>{},this.onPointerMove=t=>{if(!this.wavesurfer)return;let e=this.wavesurfer.getWrapper().getBoundingClientRect(),{width:n}=e,r=t.clientX-e.left,i=Math.min(1,Math.max(0,r/n)),o=Math.min(n-this.options.lineWidth-1,r);this.wrapper.style.transform=`translateX(${o}px)`,this.wrapper.style.opacity="1";let a=this.wavesurfer.getDuration()||0;this.label.textContent=this.formatTime(a*i);let s=this.label.offsetWidth;this.label.style.transform=o+s>n?`translateX(-${s+this.options.lineWidth}px)`:"",this.emit("hover",i)},this.onPointerLeave=()=>{this.wrapper.style.opacity="0"},this.options=Object.assign({},_,t),this.wrapper=x("div",{part:"hover"}),this.label=x("span",{part:"hover-label"},this.wrapper)}static create(t){return new w(t)}addUnits(t){return`${t}${"number"==typeof t?"px":""}`}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");let t=this.wavesurfer.options,e=this.options.lineColor||t.cursorColor||t.progressColor;Object.assign(this.wrapper.style,{position:"absolute",zIndex:10,left:0,top:0,height:"100%",pointerEvents:"none",borderLeft:`${this.addUnits(this.options.lineWidth)} solid ${e}`,opacity:"0",transition:"opacity .1s ease-in"}),Object.assign(this.label.style,{display:"block",backgroundColor:this.options.labelBackground,color:this.options.labelColor,fontSize:`${this.addUnits(this.options.labelSize)}`,transition:"transform .1s ease-in",padding:"2px 3px"});let n=this.wavesurfer.getWrapper();n.appendChild(this.wrapper),n.addEventListener("pointermove",this.onPointerMove),n.addEventListener("pointerleave",this.onPointerLeave),n.addEventListener("wheel",this.onPointerMove),this.unsubscribe=()=>{n.removeEventListener("pointermove",this.onPointerMove),n.removeEventListener("pointerleave",this.onPointerLeave),n.removeEventListener("wheel",this.onPointerLeave)}}formatTime(t){return`${Math.floor(t/60)}:${`0${Math.floor(t)%60}`.slice(-2)}`}destroy(){super.destroy(),this.unsubscribe(),this.wrapper.remove()}}class C{constructor(){this.listeners={}}on(t,e,n){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==n?void 0:n.once){let n=()=>{this.un(t,n),this.un(t,e)};return this.on(t,n),n}return()=>this.un(t,e)}un(t,e){var n;null===(n=this.listeners[t])||void 0===n||n.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach(t=>t(...e))}}class E extends C{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}}function k(t,e,n,r,i=3,o=0){if(!t)return()=>{};let a=()=>{},s=s=>{if(s.button!==o)return;s.preventDefault(),s.stopPropagation();let u=s.clientX,l=s.clientY,c=!1,h=r=>{r.preventDefault(),r.stopPropagation();let o=r.clientX,a=r.clientY,s=o-u,h=a-l;if(c||Math.abs(s)>i||Math.abs(h)>i){let{left:r,top:i}=t.getBoundingClientRect();c||(null==n||n(u-r,l-i),c=!0),e(s,h,o-r,a-i),u=o,l=a}},f=()=>{c&&(null==r||r()),a()},d=t=>{c&&(t.stopPropagation(),t.preventDefault())},p=t=>{c&&t.preventDefault()};document.addEventListener("pointermove",h),document.addEventListener("pointerup",f),document.addEventListener("pointerout",f),document.addEventListener("pointercancel",f),document.addEventListener("touchmove",p,{passive:!1}),document.addEventListener("click",d,{capture:!0}),a=()=>{document.removeEventListener("pointermove",h),document.removeEventListener("pointerup",f),document.removeEventListener("pointerout",f),document.removeEventListener("pointercancel",f),document.removeEventListener("touchmove",p),setTimeout(()=>{document.removeEventListener("click",d,{capture:!0})},10)}};return t.addEventListener("pointerdown",s),()=>{a(),t.removeEventListener("pointerdown",s)}}function M(t,e,n){let r=function t(e,n){let r=n.xmlns?document.createElementNS(n.xmlns,e):document.createElement(e);for(let[e,i]of Object.entries(n))if("children"===e)for(let[e,i]of Object.entries(n))"string"==typeof i?r.appendChild(document.createTextNode(i)):r.appendChild(t(e,i));else"style"===e?Object.assign(r.style,i):"textContent"===e?r.textContent=i:r.setAttribute(e,i.toString());return r}(t,e||{});return null==n||n.appendChild(r),r}class S extends C{constructor(t,e,n=0){var r,i,o,a,s,u,l,c;super(),this.totalDuration=e,this.numberOfChannels=n,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.id=t.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(t.start),this.end=this.clampPosition(null!==(r=t.end)&&void 0!==r?r:t.start),this.drag=null===(i=t.drag)||void 0===i||i,this.resize=null===(o=t.resize)||void 0===o||o,this.color=null!==(a=t.color)&&void 0!==a?a:"rgba(0, 0, 0, 0.1)",this.minLength=null!==(s=t.minLength)&&void 0!==s?s:this.minLength,this.maxLength=null!==(u=t.maxLength)&&void 0!==u?u:this.maxLength,this.channelIdx=null!==(l=t.channelIdx)&&void 0!==l?l:-1,this.contentEditable=null!==(c=t.contentEditable)&&void 0!==c?c:this.contentEditable,this.element=this.initElement(),this.setContent(t.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(t){return Math.max(0,Math.min(this.totalDuration,t))}setPart(){let t=this.start===this.end;this.element.setAttribute("part",`${t?"marker":"region"} ${this.id}`)}addResizeHandles(t){let e={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},n=M("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},e),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},t),r=M("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},e),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},t);k(n,t=>this.onResize(t,"start"),()=>null,()=>this.onEndResizing(),1),k(r,t=>this.onResize(t,"end"),()=>null,()=>this.onEndResizing(),1)}removeResizeHandles(t){let e=t.querySelector('[part*="region-handle-left"]'),n=t.querySelector('[part*="region-handle-right"]');e&&t.removeChild(e),n&&t.removeChild(n)}initElement(){let t=this.start===this.end,e=0,n=100;this.channelIdx>=0&&this.channelIdx<this.numberOfChannels&&(e=(n=100/this.numberOfChannels)*this.channelIdx);let r=M("div",{style:{position:"absolute",top:`${e}%`,height:`${n}%`,backgroundColor:t?"none":this.color,borderLeft:t?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!t&&this.resize&&this.addResizeHandles(r),r}renderPosition(){let t=this.start/this.totalDuration,e=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*t+"%",this.element.style.right=100*e+"%"}toggleCursor(t){this.drag&&(this.element.style.cursor=t?"grabbing":"grab")}initMouseEvents(){let{element:t}=this;t&&(t.addEventListener("click",t=>this.emit("click",t)),t.addEventListener("mouseenter",t=>this.emit("over",t)),t.addEventListener("mouseleave",t=>this.emit("leave",t)),t.addEventListener("dblclick",t=>this.emit("dblclick",t)),t.addEventListener("pointerdown",()=>this.toggleCursor(!0)),t.addEventListener("pointerup",()=>this.toggleCursor(!1)),k(t,t=>this.onMove(t),()=>this.toggleCursor(!0),()=>{this.toggleCursor(!1),this.drag&&this.emit("update-end")}),this.contentEditable&&this.content&&(this.content.addEventListener("click",t=>this.onContentClick(t)),this.content.addEventListener("blur",()=>this.onContentBlur())))}_onUpdate(t,e){if(!this.element.parentElement)return;let{width:n}=this.element.parentElement.getBoundingClientRect(),r=t/n*this.totalDuration,i=e&&"start"!==e?this.start:this.start+r,o=e&&"end"!==e?this.end:this.end+r,a=o-i;i>=0&&o<=this.totalDuration&&i<=o&&a>=this.minLength&&a<=this.maxLength&&(this.start=i,this.end=o,this.renderPosition(),this.emit("update"))}onMove(t){this.drag&&this._onUpdate(t)}onResize(t,e){this.resize&&this._onUpdate(t,e)}onEndResizing(){this.resize&&this.emit("update-end")}onContentClick(t){t.stopPropagation(),t.target.focus(),this.emit("click",t)}onContentBlur(){this.emit("update-end")}_setTotalDuration(t){this.totalDuration=t,this.renderPosition()}play(){this.emit("play")}setContent(t){var e;if(null===(e=this.content)||void 0===e||e.remove(),t){if("string"==typeof t){let e=this.start===this.end;this.content=M("div",{style:{padding:`0.2em ${e?.2:.4}em`,display:"inline-block"},textContent:t})}else this.content=t;this.contentEditable&&(this.content.contentEditable="true"),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content)}else this.content=void 0}setOptions(t){var e,n;if(t.color&&(this.color=t.color,this.element.style.backgroundColor=this.color),void 0!==t.drag&&(this.drag=t.drag,this.element.style.cursor=this.drag?"grab":"default"),void 0!==t.start||void 0!==t.end){let r=this.start===this.end;this.start=this.clampPosition(null!==(e=t.start)&&void 0!==e?e:this.start),this.end=this.clampPosition(null!==(n=t.end)&&void 0!==n?n:r?this.start:this.end),this.renderPosition(),this.setPart()}if(t.content&&this.setContent(t.content),t.id&&(this.id=t.id,this.setPart()),void 0!==t.resize&&t.resize!==this.resize){let e=this.start===this.end;this.resize=t.resize,this.resize&&!e?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}}remove(){this.emit("remove"),this.element.remove(),this.element=null}}class R extends E{constructor(t){super(t),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(t){return new R(t)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer);let t=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",e=>{let n=this.regions.filter(t=>t.start<=e&&(t.end===t.start?t.start+.05:t.end)>=e);n.forEach(e=>{t.includes(e)||this.emit("region-in",e)}),t.forEach(t=>{n.includes(t)||this.emit("region-out",t)}),t=n}))}initRegionsContainer(){return M("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"3",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(t){if(!t.content)return;let e=t.content,n=e.getBoundingClientRect(),r=this.regions.map(e=>{if(e===t||!e.content)return 0;let r=e.content.getBoundingClientRect();return n.left<r.left+r.width&&r.left<n.left+n.width?r.height:0}).reduce((t,e)=>t+e,0);e.style.marginTop=`${r}px`}adjustScroll(t){var e,n;let r=null===(n=null===(e=this.wavesurfer)||void 0===e?void 0:e.getWrapper())||void 0===n?void 0:n.parentElement;if(!r)return;let{clientWidth:i,scrollWidth:o}=r;if(o<=i)return;let a=r.getBoundingClientRect(),s=t.element.getBoundingClientRect(),u=s.left-a.left,l=s.right-a.left;u<0?r.scrollLeft+=u:l>i&&(r.scrollLeft+=l-i)}saveRegion(t){this.regionsContainer.appendChild(t.element),this.avoidOverlapping(t),this.regions.push(t);let e=[t.on("update",()=>{this.adjustScroll(t)}),t.on("update-end",()=>{this.avoidOverlapping(t),this.emit("region-updated",t)}),t.on("play",()=>{var e,n;null===(e=this.wavesurfer)||void 0===e||e.play(),null===(n=this.wavesurfer)||void 0===n||n.setTime(t.start)}),t.on("click",e=>{this.emit("region-clicked",t,e)}),t.on("dblclick",e=>{this.emit("region-double-clicked",t,e)}),t.once("remove",()=>{e.forEach(t=>t()),this.regions=this.regions.filter(e=>e!==t),this.emit("region-removed",t)})];this.subscriptions.push(...e),this.emit("region-created",t)}addRegion(t){var e,n;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");let r=this.wavesurfer.getDuration(),i=new S(t,r,null===(n=null===(e=this.wavesurfer)||void 0===e?void 0:e.getDecodedData())||void 0===n?void 0:n.numberOfChannels);return r?this.saveRegion(i):this.subscriptions.push(this.wavesurfer.once("ready",t=>{i._setTotalDuration(t),this.saveRegion(i)})),i}enableDragSelection(t,e=3){var n;let r=null===(n=this.wavesurfer)||void 0===n?void 0:n.getWrapper();if(!(r&&r instanceof HTMLElement))return()=>{};let i=null,o=0;return k(r,(t,e,n)=>{i&&i._onUpdate(t,n>o?"end":"start")},e=>{var n,r;if(o=e,!this.wavesurfer)return;let a=this.wavesurfer.getDuration(),s=null===(r=null===(n=this.wavesurfer)||void 0===n?void 0:n.getDecodedData())||void 0===r?void 0:r.numberOfChannels,{width:u}=this.wavesurfer.getWrapper().getBoundingClientRect();i=new S(Object.assign(Object.assign({},t),{start:e/u*a,end:(e+5)/u*a}),a,s),this.regionsContainer.appendChild(i.element)},()=>{i&&(this.saveRegion(i),i=null)},e)}clearRegions(){this.regions.forEach(t=>t.remove())}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}class L{constructor(){this.listeners={}}on(t,e,n){if(this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(e),null==n?void 0:n.once){let n=()=>{this.un(t,n),this.un(t,e)};return this.on(t,n),n}return()=>this.un(t,e)}un(t,e){var n;null===(n=this.listeners[t])||void 0===n||n.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach(t=>t(...e))}}class A extends L{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}}function P(t,e,n){let r=function t(e,n){let r=n.xmlns?document.createElementNS(n.xmlns,e):document.createElement(e);for(let[e,i]of Object.entries(n))if("children"===e)for(let[e,i]of Object.entries(n))"string"==typeof i?r.appendChild(document.createTextNode(i)):r.appendChild(t(e,i));else"style"===e?Object.assign(r.style,i):"textContent"===e?r.textContent=i:r.setAttribute(e,i.toString());return r}(t,e||{});return null==n||n.appendChild(r),r}function D(t,e,n,r){switch(this.bufferSize=t,this.sampleRate=e,this.bandwidth=2/t*(e/2),this.sinTable=new Float32Array(t),this.cosTable=new Float32Array(t),this.windowValues=new Float32Array(t),this.reverseTable=new Uint32Array(t),this.peakBand=0,this.peak=0,n){case"bartlett":for(i=0;i<t;i++)this.windowValues[i]=2/(t-1)*((t-1)/2-Math.abs(i-(t-1)/2));break;case"bartlettHann":for(i=0;i<t;i++)this.windowValues[i]=.62-.48*Math.abs(i/(t-1)-.5)-.38*Math.cos(2*Math.PI*i/(t-1));break;case"blackman":for(r=r||.16,i=0;i<t;i++)this.windowValues[i]=(1-r)/2-.5*Math.cos(2*Math.PI*i/(t-1))+r/2*Math.cos(4*Math.PI*i/(t-1));break;case"cosine":for(i=0;i<t;i++)this.windowValues[i]=Math.cos(Math.PI*i/(t-1)-Math.PI/2);break;case"gauss":for(r=r||.25,i=0;i<t;i++)this.windowValues[i]=Math.pow(Math.E,-.5*Math.pow((i-(t-1)/2)/(r*(t-1)/2),2));break;case"hamming":for(i=0;i<t;i++)this.windowValues[i]=.54-.46*Math.cos(2*Math.PI*i/(t-1));break;case"hann":case void 0:for(i=0;i<t;i++)this.windowValues[i]=.5*(1-Math.cos(2*Math.PI*i/(t-1)));break;case"lanczoz":for(i=0;i<t;i++)this.windowValues[i]=Math.sin(Math.PI*(2*i/(t-1)-1))/(Math.PI*(2*i/(t-1)-1));break;case"rectangular":for(i=0;i<t;i++)this.windowValues[i]=1;break;case"triangular":for(i=0;i<t;i++)this.windowValues[i]=2/t*(t/2-Math.abs(i-(t-1)/2));break;default:throw Error("No such window function '"+n+"'")}for(var i,o=1,a=t>>1;o<t;){for(i=0;i<o;i++)this.reverseTable[i+o]=this.reverseTable[i]+a;o<<=1,a>>=1}for(i=0;i<t;i++)this.sinTable[i]=Math.sin(-Math.PI/i),this.cosTable[i]=Math.cos(-Math.PI/i);this.calculateSpectrum=function(t){var e,n,r,i=this.bufferSize,o=this.cosTable,a=this.sinTable,s=this.reverseTable,u=new Float32Array(i),l=new Float32Array(i),c=2/this.bufferSize,h=Math.sqrt,f=new Float32Array(i/2);if(Math.pow(2,Math.floor(Math.log(i)/Math.LN2))!==i)throw"Invalid buffer size, must be a power of 2.";if(i!==t.length)throw"Supplied buffer is not the same size as defined FFT. FFT Size: "+i+" Buffer Size: "+t.length;for(var d,p,g,v,b,m,y,x,_=1,w=0;w<i;w++)u[w]=t[s[w]]*this.windowValues[s[w]],l[w]=0;for(;_<i;){d=o[_],p=a[_],g=1,v=0;for(var C=0;C<_;C++){for(w=C;w<i;)m=g*u[b=w+_]-v*l[b],y=g*l[b]+v*u[b],u[b]=u[w]-m,l[b]=l[w]-y,u[w]+=m,l[w]+=y,w+=_<<1;g=(x=g)*d-v*p,v=x*p+v*d}_<<=1}w=0;for(var E=i/2;w<E;w++)(r=c*h((e=u[w])*e+(n=l[w])*n))>this.peak&&(this.peakBand=w,this.peak=r),f[w]=r;return f}}class T extends A{static create(t){return new T(t||{})}constructor(t){if(super(t),this.frequenciesDataUrl=t.frequenciesDataUrl,this.container="string"==typeof t.container?document.querySelector(t.container):t.container,t.colorMap){if(t.colorMap.length<256)throw Error("Colormap must contain 256 elements");for(let e=0;e<t.colorMap.length;e++)if(4!==t.colorMap[e].length)throw Error("ColorMap entries must contain 4 values");this.colorMap=t.colorMap}else{this.colorMap=[];for(let t=0;t<256;t++){let e=(255-t)/256;this.colorMap.push([e,e,e,1])}}this.fftSamples=t.fftSamples||512,this.height=t.height||this.fftSamples/2,this.noverlap=t.noverlap,this.windowFunc=t.windowFunc,this.alpha=t.alpha,this.frequencyMin=t.frequencyMin||0,this.frequencyMax=t.frequencyMax||0,this.createWrapper(),this.createCanvas()}onInit(){this.container=this.container||this.wavesurfer.getWrapper(),this.container.appendChild(this.wrapper),this.wavesurfer.options.fillParent&&Object.assign(this.wrapper.style,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.subscriptions.push(this.wavesurfer.on("redraw",()=>this.render()))}destroy(){this.unAll(),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("redraw",this._onRender),this.wavesurfer=null,this.util=null,this.options=null,this.wrapper&&(this.wrapper.remove(),this.wrapper=null),super.destroy()}loadFrequenciesData(t){var e,n,r,i;return e=this,n=void 0,r=void 0,i=function*(){let e=yield fetch(t);if(!e.ok)throw Error("Unable to fetch frequencies data");let n=yield e.json();this.drawSpectrogram(n)},new(r||(r=Promise))(function(t,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(e){var n;e.done?t(e.value):((n=e.value)instanceof r?n:new r(function(t){t(n)})).then(a,s)}u((i=i.apply(e,n||[])).next())})}createWrapper(){this.wrapper=P("div",{style:{display:"block",position:"relative",userSelect:"none"}}),this.options.labels&&(this.labelsEl=P("canvas",{part:"spec-labels",style:{position:"absolute",zIndex:9,width:"55px",height:"100%"}},this.wrapper)),this.wrapper.addEventListener("click",this._onWrapperClick)}createCanvas(){this.canvas=P("canvas",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:4}},this.wrapper),this.spectrCc=this.canvas.getContext("2d")}render(){var t;if(this.frequenciesDataUrl)this.loadFrequenciesData(this.frequenciesDataUrl);else{let e=null===(t=this.wavesurfer)||void 0===t?void 0:t.getDecodedData();e&&this.drawSpectrogram(this.getFrequencies(e))}}drawSpectrogram(t){isNaN(t[0][0])||(t=[t]),this.wrapper.style.height=this.height*t.length+"px",this.width=this.wavesurfer.getWrapper().offsetWidth,this.canvas.width=this.width,this.canvas.height=this.height*t.length;let e=this.spectrCc,n=this.height,r=this.width,i=this.buffer.sampleRate/2,o=this.frequencyMin,a=this.frequencyMax;if(e){for(let s=0;s<t.length;s++){let u=this.resample(t[s]),l=new ImageData(r,n);for(let t=0;t<u.length;t++)for(let e=0;e<u[t].length;e++){let i=this.colorMap[u[t][e]],o=4*((n-e)*r+t);l.data[o]=255*i[0],l.data[o+1]=255*i[1],l.data[o+2]=255*i[2],l.data[o+3]=255*i[3]}createImageBitmap(l).then(t=>{e.drawImage(t,0,n*(1-a/i),r,n*(a-o)/i,0,n*s,r,n)})}this.options.labels&&this.loadLabels(this.options.labelsBackground,"12px","12px","",this.options.labelsColor,this.options.labelsHzColor||this.options.labelsColor,"center","#specLabels",t.length),this.emit("ready")}}getFrequencies(t){var e,n;let r=this.fftSamples,i=(null!==(e=this.options.splitChannels)&&void 0!==e?e:null===(n=this.wavesurfer)||void 0===n?void 0:n.options.splitChannels)?t.numberOfChannels:1;if(this.frequencyMax=this.frequencyMax||t.sampleRate/2,!t)return;this.buffer=t;let o=t.sampleRate,a=[],s=this.noverlap;s||(s=Math.max(0,Math.round(r-t.length/this.canvas.width)));let u=new D(r,o,this.windowFunc,this.alpha);for(let e=0;e<i;e++){let n=t.getChannelData(e),i=[],o=0;for(;o+r<n.length;){let t=n.slice(o,o+r),e=u.calculateSpectrum(t),a=new Uint8Array(r/2);for(let t=0;t<r/2;t++)a[t]=Math.max(-255,45*Math.log10(e[t]));i.push(a),o+=r-s}a.push(i)}return a}freqType(t){return t>=1e3?(t/1e3).toFixed(1):Math.round(t)}unitType(t){return t>=1e3?"KHz":"Hz"}loadLabels(t,e,n,r,i,o,a,s,u){t=t||"rgba(68,68,68,0)",e=e||"12px",n=n||"12px",r=r||"Helvetica",i=i||"#fff",o=o||"#fff",a=a||"center";let l=this.height||512,c=l/256*5,h=this.frequencyMin,f=(this.frequencyMax-h)/c,d=this.labelsEl.getContext("2d"),p=window.devicePixelRatio;if(this.labelsEl.height=this.height*u*p,this.labelsEl.width=55*p,d.scale(p,p),d)for(let s=0;s<u;s++){let u;for(d.fillStyle=t,d.fillRect(0,s*l,55,(1+s)*l),d.fill(),u=0;u<=c;u++){let t;d.textAlign=a,d.textBaseline="middle";let c=h+f*u,p=this.freqType(c),g=this.unitType(c);t=0==u?(1+s)*l+u-10:(1+s)*l-50*u+2,d.fillStyle=o,d.font=n+" "+r,d.fillText(g,40,t),d.fillStyle=i,d.font=e+" "+r,d.fillText(p,16,t)}}}resample(t){let e;let n=this.width,r=[],i=1/t.length,o=1/n;for(e=0;e<n;e++){let n,a;let s=Array(t[0].length);for(n=0;n<t.length;n++){let r;let a=n*i,u=a+i,l=e*o,c=l+o,h=u<=l||c<=a?0:Math.min(Math.max(u,l),Math.max(c,a))-Math.max(Math.min(u,l),Math.min(c,a));if(h>0)for(r=0;r<t[0].length;r++)null==s[r]&&(s[r]=0),s[r]+=h/o*t[n][r]}let u=new Uint8Array(t[0].length);for(a=0;a<t[0].length;a++)u[a]=s[a];r.push(u)}return r}}var O={},j={};j={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};var I={};function z(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function W(t){for(var e,n="#",r=0;r<3;++r)n+=("00"+(e=(e=t[r]).toString(16))).substr(e.length);return n}function N(t){return"rgba("+t.join(",")+")"}I=function(t,e,n){return t*(1-n)+e*n},O=function(t){if(t||(t={}),u=(t.nshades||72)-1,s=t.format||"hex",(a=t.colormap)||(a="jet"),"string"==typeof a){if(!j[a=a.toLowerCase()])throw Error(a+" not a supported colorscale");o=j[a]}else if(Array.isArray(a))o=a.slice();else throw Error("unsupported colormap option",a);if(o.length>u+1)throw Error(a+" map requires nshades to be at least size "+o.length);c=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:t.alpha.slice():"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1],e=o.map(function(t){return Math.round(t.index*u)}),c[0]=Math.min(Math.max(c[0],0),1),c[1]=Math.min(Math.max(c[1],0),1);var e,n,r,i,o,a,s,u,l,c,h,f=o.map(function(t,e){var n=o[e].index,r=o[e].rgb.slice();return 4===r.length&&r[3]>=0&&r[3]<=1||(r[3]=c[0]+(c[1]-c[0])*n),r}),l=[];for(h=0;h<e.length-1;++h){i=e[h+1]-e[h],n=f[h],r=f[h+1];for(var d=0;d<i;d++){var p=d/i;l.push([Math.round(I(n[0],r[0],p)),Math.round(I(n[1],r[1],p)),Math.round(I(n[2],r[2],p)),I(n[3],r[3],p)])}}return l.push(o[o.length-1].rgb.concat(c[1])),"hex"===s?l=l.map(W):"rgbaString"===s?l=l.map(N):"float"===s&&(l=l.map(z)),l};const B=/[^:"'\[\]]+?\.(3gp|aa|aac|aax|act|aiff|alac|amr|ape|au|awb|dss|dvf|flac|gsm|iklax|ivs|m4a|m4b|m4p|mmf|movpkg|mp3|mpc|msv|nmf|ogg|opus|ra|raw|rf64|sln|tta|voc|vox|wav|wma|wv|webm|8svx|cda)/gi,$=b.create({audioRate:1,autoCenter:!0,autoplay:!1,autoScroll:!0,backend:"MediaElement",barWidth:1,barGap:0,barAlign:"bottom",container:"#waveform",cursorColor:"rgba(255, 255, 255, 0.5)",cursorWidth:1,height:150,minPxPerSec:200,normalize:!0,progressColor:"rgba(255, 255, 255, 0.2)",sampleRate:11025,waveColor:"rgba(210, 40, 60, 1)"});$.registerPlugin(w.create({lineColor:"rgba(255, 255, 255, 0.4)",labelColor:"rgba(255, 255, 255, 0)",labelBackground:"rgba(255, 255, 255, 0)"}));const U=O({colormap:"cubehelix",nshades:256,format:"float"});$.registerPlugin(T.create({labels:!1,splitChannels:!1,fftSamples:512,colorMap:U}));const q=$.registerPlugin(R.create());q.enableDragSelection({color:"rgba(255, 255, 255, 0.2)"});let F=null;function H(t,e,n={}){return new Promise((r,i)=>{let o=new XMLHttpRequest;o.addEventListener("error",()=>i("failed to issue request")),o.addEventListener("load",()=>{try{let t=JSON.parse(o.responseText);if(2!=Object.getOwnPropertyNames(t).length)throw"response has an unexpected number of fields";if(!t.hasOwnProperty("error"))throw"response is missing required error field";if(!t.hasOwnProperty("result"))throw"response is missing required result field";if(t.error)throw t.error;r(t.result)}catch(t){i(t)}}),o.open("POST","http://127.0.0.1:8765"),o.send(JSON.stringify({action:t,version:e,params:n}))})}q.on("region-created",t=>{console.log("Select active region: ",t),F=t,$.pause(),$.setTime(t.start)}),q.on("region-updated",t=>{console.log("Select active region: ",t),F=t,$.pause(),$.setTime(t.start)}),q.on("region-out",t=>{F===t&&($.pause(),$.setTime(t.start))}),q.on("region-clicked",(t,e)=>{e.stopPropagation(),console.log("Select active region: ",t),F=t,t.play()}),$.on("interaction",()=>{F=null});const V=document.getElementById("status-text"),G=document.getElementById("field-name-select"),X=document.getElementById("playback-display");G.addEventListener("change",function(){localStorage.setItem("FieldNameSelect.value",G.value),tt()});let Z=!0;function K(t){console.log(`New status: ${t}.`),V.textContent=t}function Y(){console.log("Audio cleared."),$.empty(),$.toggleInteraction(!1)}function J(t){console.log(`Audio error: ${t}`),K(t),Y()}async function Q(t){try{let e=await H("retrieveMediaFile",6,{filename:t});if(!e){K("Audio file not found");return}let n=atob(e),r=new Uint8Array(n.length).map((t,e)=>n.charCodeAt(e)),i=URL.createObjectURL(new Blob([r],{type:"audio/mp3"}));$.load(i),$.toggleInteraction(!0)}catch(t){J(t)}}function tt(){let t=G.value,n=e(o).get(te,["fields",t,"value"]);try{let t=n.match(RegExp(B));if(console.log(`Detected audio file: ${t}`),e(o).isEmpty(t))throw Error("No audio file detected");Q(t[0]),K(`Fetched audio: ${t[0]}`)}catch(t){J(t)}}document.addEventListener("keydown",function(t){let e=!0;switch(t.code){case"Space":$.playPause();break;case"ArrowLeft":$.skip(-.5);break;case"ArrowRight":$.skip(.5);break;case"ArrowUp":let n=Math.min($.getPlaybackRate()+.2,2).toFixed(1);$.setPlaybackRate(Number(n)),X.innerText=n;break;case"ArrowDown":let r=Math.max($.getPlaybackRate()-.2,.2).toFixed(1);$.setPlaybackRate(Number(r)),X.innerText=r;break;case"BracketLeft":$.seekTo(0);break;case"BracketRight":$.seekTo(1);break;case"KeyP":Z=!Z,$.setPlaybackRate($.getPlaybackRate(),Z);break;case"Backspace":case"Delete":F&&F.remove();break;default:e=!1}e&&t.preventDefault()});let te={cardId:null};setInterval(async function(){try{let t=await H("guiCurrentCard",6);if(!t||t.cardId===te.cardId)return;console.log("New card fetched."),te=t,K(`Card with ID ${te.cardId} fetched`),function(){console.log("Repopulating field names dropdown.");let t=G.value,e=localStorage.getItem("FieldNameSelect.value"),n="";for(let r of Object.keys(te.fields)){let i="";(r===t||r===e)&&(console.log(`Reselecting field: "${r}".`),i="selected"),n+=`<option value="${r}" ${i}>${r}</option>`}G.innerHTML=n}(),tt()}catch(t){console.log("No card found."),te={cardId:null},console.log(`Card error: ${t}`),K(t),Y(),console.log("Card cleared."),G.innerHTML=""}},200);
//# sourceMappingURL=index.9aeeb1f1.js.map
